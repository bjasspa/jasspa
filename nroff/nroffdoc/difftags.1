.Id $Id: difftags.1,v 1.1 2000-10-21 14:31:32 jon Exp $
.Im mantools utility
.TH difftags 1
.XI difftags - "Analyse and compare an Nroff tags file and C tags file."
.SH NAME
difftags \- Analyse and compare an Nroff tags file and C tags file.
.SH SYNOPSIS
.sp 1
.na
\fBdifftags\fR \fI<cfile1>\fR \fI<docfile2>\fR \fC[\fR\fI<outFile>\fR\fC]\fR
.ad
.SH DESCRIPTION
\fBdifftags\fR is a utility used to compare tag files and is generally used to
compare a program tag file (generated by
.Hr ctags 1 )
with a Nroff tags file generated by
.Ht ntags 1 .
The  utility  generates a  difference  file which  annotates  the  differences
between  the tag  files.  The  utility  is only  interested  in the tag  names
determining which symbol definitions are and are not defined.
.PP
The command  line  accepts  two tag files, a code tag file  \fI<cfile1>\fR  is
specified as the first tag file (typically generated by
.Hr ctags 1 "),"
the document tag file \fI<docfile2>\fR is specified second (generated by
.Ht ntags 1 ")."
An optional  output file may be  specified  as the third  argument, if this is
omitted then the differences are generated on \fIstdout\fR.
.PP
The generated difference file provides information as to:-
.BS
The labels that have been  documented  e.g. match in names between the two tag
files.
.BU
The labels that are not documented e.g. a label appearing in the code tag file
and not the nroff tag file.
.BU
The labels that are \fIover\fR  documented e.g. a label appearing in the nroff
tag file and not in the code file.
.BE
The generated output file takes the following form:-
.CS
.ne 6
Files:      ..\\src\\tags [0]          tags [0]

** Undef    VTXFloat32Write [1]      ---
** Undef    VTXFloat64Write [2]      ---
** Undef    VTX_DBPALSAVE [3]        ---
   ....
   ....
** Undef    VTXtestForVTX [88]       ---
** Undef    VTXtextureWrite [89]     ---
** Undef    VertexInList [90]        ---
-- ok       byte2_flip [91]          byte2_flip [1]
-- ok       byte4_flip [92]          byte4_flip [2]
-- ok       byte8_flip [93]          byte8_flip [3]
** Unknown  ---                      dfl [4]
-- ok       dflBackupName [94]       dflBackupName [5]
   ....
   ....
-- ok       dflCreateVtxName [104]   dflCreateVtxName [15]
-- ok       dflError [105]           dflError [16]
** Unknown  ---                      dflFILE [17]
** Unknown  ---                      dflFILEPTR [18]
-- ok       dflFormatName [106]      dflFormatName [19]
   ....
   ....
** Undef    dvfUnlinkObject [878]    ---
** Undef    dvfWriteTab [879]        ---
** Unknown  ---                      progname [500]

Total:      ..\\src\\tags [880]        tags [501]

Matched = 402. Undefined = 477. Unknown = 98
.CE
A three column  output is  generated,  column 1 provides  status  information,
columns 2 and 3  contain  the  labels  taken  from the tags  files,  each name
includes the source line number in square brackets.
.PP
The status column shows the status of the name comparison as follows:-
.BP "** Undef"
The name exists in the code tags file, but not in the nroff tags file.
.BP "** Unknown"
The name exists in the nroff tags file, but not in the code tags file.
.BP "-- ok"
The name has been defined in both the nroff and code tags files.
.PP
The end of the difference  file  identifies  the number of tags that have been
matched and totals the number of tags that are undefined or unknown.
.SH USAGE
The  \fBdifftags\fR  utility is primarily  intended to enable a coding  module
symbols to be checked against the documentation files to ensure that they have
been  documented. The following  steps are generally taken when  documenting a
module.
.BS
Execute
.Hr ctags 1
on the source files.
.BU
Copy the  generated  tags file and remove  all  internal  labels  that are not
documented, leaving all of the entry points that MUST be documented.
.BU
Execute
.Ht ntags 1
on the documentation files.
.BU
Using the  edited  code tags file and nroff  tags file use  \fBdifftags\fR  to
determine the difference.
.BU
Iteratively correct the documentation, re-run
.Ht ntags 1
and \fBdifftags\fR until all symbols have been resolved properly.
.BE 0
.SH "SEE ALSO"
.na
.Hr ctags 1 ,
.Ht ntags 1 .
.ad
.FH
