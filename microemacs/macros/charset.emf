; -!- emf -!-
; This is part of the JASSPA MicroEmacs macro files
; Copyright (C) 1999-2009 JASSPA (www.jasspa.com)
; See the file me.emf for copying and conditions.
;
; Created:     Tue Feb 16 1999
; Synopsis:    Set up the chatacter translations for the different char sets.
; Authors:     Steven Phillips
;
; Notes:       The internal default is ISO-8859 (1-...).
;               All spelling dictionaries (to date anyway) are encoded 
;               with this character format and rules are required to 
;               translate characters into and out of this set.
;
; Define the list  of supported charsets and if windows then the font type
set-variable .change-font.cs-id  "|cp1252|iso8859-1|cp1250|iso8859-2|cp1251|iso8859-5|cp866|koi8-f|cp1253|iso8859-7|cp1254|iso8859-9|iso8859-15|cp850|cp437|plain-text|"
set-variable .change-font.cs-type  "220011113344222-"
set-variable .change-font.cs-wftp  "|0||238||204||||161||162||||255||"
!if &les @# 1
  ; if executed with an argument of 0 or less, define the charset names and return
  set-variable .change-font.cs-name  "|Western Europe - Win CP-1252|Western Europe - ISO-8859-1|Central Europe - Win CP-1250|Central Europe - ISO-8859-2|Cyrillic - Windows CP-1251|Cyrillic - ISO-8859-5|Cyrillic - DOS CP-866|Cyrillic - KOI8-F|Greek - Windows CP-1253|Greek - ISO-8859-7|Turkish - Windows CP-1254|Turkish - ISO-8859-9|Western Europe - ISO-8859-15|Western - Win Console CP-850|Western Europe - DOS CP-437|Plain Text|"
  !return
!endif
; get the users display char set
set-variable #l0 &reg &spr "/history/%s/char-set" %platform "iso8859-1"
set-variable #l1 1
!if &seq #l0 "cp1252"
  set-char-mask "M" ""
  set-char-mask "dp" "€‚ƒ„…†‡ˆ‰Š‹Œ‘’“”•–—˜™š›œŸ"
  set-char-mask "c" "20AC0081201A0192201E20262020202102C62030016020390152008D017D008F009020182019201C201D20222013201402DC21220161203A0153009D017E017800A000A100A200A300A400A500A600A700A800A900AA00AB00AC00AD00AE00AF00B000B100B200B300B400B500B600B700B800B900BA00BB00BC00BD00BE00BF00C000C100C200C300C400C500C600C700C800C900CA00CB00CC00CD00CE00CF00D000D100D200D300D400D500D600D700D800D900DA00DB00DC00DD00DE00DF00E000E100E200E300E400E500E600E700E800E900EA00EB00EC00ED00EE00EF00F000F100F200F300F400F500F600F700F800F900FA00FB00FC00FD00FE00FF"
!elif &seq #l0 "iso8859-1"
  set-char-mask "M" "ŠSšsZzŸYSSssYYZZzz"
  set-char-mask "c" "0080008100820083008400850086008700880089008A008B008C008D008E008F0090009100920093009400950096009700980099009A009B009C009D009E009F00A000A100A200A300A400A500A600A700A800A900AA00AB00AC00AD00AE00AF00B000B100B200B300B400B500B600B700B800B900BA00BB00BC00BD00BE00BF00C000C100C200C300C400C500C600C700C800C900CA00CB00CC00CD00CE00CF00D000D100D200D300D400D500D600D700D800D900DA00DB00DC00DD00DE00DF00E000E100E200E300E400E500E600E700E800E900EA00EB00EC00ED00EE00EF00F000F100F200F300F400F500F600F700F800F900FA00FB00FC00FD00FE00FF"
!elif &seq #l0 "iso8859-15"
  set-char-mask "M" "€¤Š¦š¨´¸Œ¼œ½Ÿ¾"
  set-char-mask "c" "0080008100820083008400850086008700880089008A008B008C008D008E008F0090009100920093009400950096009700980099009A009B009C009D009E009F00A000A100A200A320ac00A5016000A7016100A900AA00AB00AC00AD00AE00AF00B000B100B200B3017d00B500B600B7017e00B900BA00BB01520153017800BF00C000C100C200C300C400C500C600C700C800C900CA00CB00CC00CD00CE00CF00D000D100D200D300D400D500D600D700D800D900DA00DB00DC00DD00DE00DF00E000E100E200E300E400E500E600E700E800E900EA00EB00EC00ED00EE00EF00F000F100F200F300F400F500F600F700F800F900FA00FB00FC00FD00FE00FF"
!elif &seq #l0 "cp850"
  set-char-mask "M" "£œª¦«®¬ª®©°§±ñ²ı³ü´îµæ¶õ·ú¸ı¹û»¯¼¬½«¾ó¿¨À·ÁÂŠÃ²ÄÆ’Ç€ÈÔÉÊÒËÑÌŞÍÖÎ×ÏØĞÑÑ¥ÒãÓàÔâÕåÖ™×ØÙëÚéÛêÜšİìŞçßÿà…á âƒä„å†æ‘ç‡èŠé‚êˆë‰ìí¡îŒï‹ñ¤ò•ó¢ô“õäö”÷öø›ù—ú£û–üıìşèÿ˜"
  set-char-mask "c" "00C700FC00E900E200E400E000E500E700EA00EB00E800EF00EE00EC00C400C500C900E600C600F400F600F200FB00F900FF00D600DC00F800A300D800D7019200E100ED00F300FA00F100D100AA00BA00BF00AE00AC00BD00BC00A100AB00BB2591259225932502252400C100C200C000A9256325512557255D00A200A5251025142534252C251C2500253C00E300C3255A25542569256625602550256C00A400F000D000CA00CB00C8013100CD00CE00CF2518250C2588258400A600CC258000D300DF00D400D200F500D500B500FE00DE00DA00DB00D900FD00DD00AF00B400AD00B1201700BE00B600A700F700B800B000A800B700B900B300B225A000A0"
  set-char-mask "dp" "\CA\CB\CC\CD\CE\CF\CG\CP\CQ\CZ\C[\C^\C_"
  set-variable $box-chars "³Ú¿ÀÙÂÃÅ´ÁÄ"
  set-variable $window-chars "=-#*%=\C^± ±\C_\CD==\C^\C^±±  ±±\C_\C_\C[\CZ|\CQ± ±\CP\CD||\CQ\CQ±±  ±±\CP\CP\C[\CZ x* \CP \CQú$$\\"
  set-variable $system &band $system &bnot 0x10000
  set-variable #l1 0
!elif &seq #l0 "cp1250"
  set-char-mask "M" ""
  set-char-mask "c" "20AC0081201A0083201E2026202020210088203001602039015A0164017D0179009020182019201C201D202220132014009821220161203A015B0165017E017A00A002C702D8014100A4010400A600A700A800A9015E00AB00AC00AD00AE017B00B000B102DB014200B400B500B600B700B80105015F00BB013D02DD013E017C015400C100C2010200C40139010600C7010C00C9011800CB011A00CD00CE010E01100143014700D300D4015000D600D70158016E00DA017000DC00DD016200DF015500E100E2010300E4013A010700E7010D00E9011900EB011B00ED00EE010F01110144014800F300F4015100F600F70159016F00FA017100FC00FD016302D9"
!elif &seq #l0 "iso8859-2"
  set-char-mask "M" "¥¡¼¥Œ¦Š©«¬®¹±¾µœ¶¡·š¹»Ÿ¼¾"
  set-char-mask "c" "0080008100820083008400850086008700880089008A008B008C008D008E008F0090009100920093009400950096009700980099009A009B009C009D009E009F00A0010402D8014100A4013D015A00A700A80160015E0164017900AD017D017B00B0010502DB014200B4013E015B02C700B80161015F0165017A02DD017E017C015400C100C2010200C40139010600C7010C00C9011800CB011A00CD00CE010E01100143014700D300D4015000D600D70158016E00DA017000DC00DD016200DF015500E100E2010300E4013A010700E7010D00E9011900EB011B00ED00EE010F01110144014800F300F4015100F600F70159016F00FA017100FC00FD016302D9"
!elif &seq #l0 "cp1251"
  set-char-mask "M" ""
  set-char-mask "c" "04020403201A0453201E20262020202120AC203004092039040A040C040B040F045220182019201C201D202220132014009821220459203A045A045C045B045F00A0040E045E040800A4049000A600A7040100A9040400AB00AC00AD00AE040700B000B104060456049100B500B600B704512116045400BB04580405045504570410041104120413041404150416041704180419041A041B041C041D041E041F0420042104220423042404250426042704280429042A042B042C042D042E042F0430043104320433043404350436043704380439043A043B043C043D043E043F0440044104420443044404450446044704480449044A044B044C044D044E044F"
!elif &seq #l0 "iso8859-5"
  set-char-mask "M" "€¢£ƒóŠ©Œª¬«¯òšùœúüûŸÿ¡®¢ş£¨¥³§ı¨¡ª¤¯§²¦³ö´Ó¸ñ¹ğºô¼ø½¥¾õ¿÷À°Á±Â²Ã³Ä´ÅµÆ¶Ç·È¸É¹ÊºË»Ì¼Í½Î¾Ï¿ĞÀÑÁÒÂÓÃÔÄÕÅÖÆ×ÇØÈÙÉÚÊÛËÜÌİÍŞÎßÏàĞáÑâÒãÓäÔåÕæÖç×èØéÙêÚëÛìÜíİîŞïßğàñáòâóãôäõåöæ÷çøèùéúêûëüìıíşîÿï"
  set-char-mask "c" "0080008100820083008400850086008700880089008A008B008C008D008E008F0090009100920093009400950096009700980099009A009B009C009D009E009F00A0040104020403040404050406040704080409040A040B040C00AD040E040F0410041104120413041404150416041704180419041A041B041C041D041E041F0420042104220423042404250426042704280429042A042B042C042D042E042F0430043104320433043404350436043704380439043A043B043C043D043E043F0440044104420443044404450446044704480449044A044B044C044D044E044F2116045104520453045404550456045704580459045A045B045C00A7045E045F"
!elif &seq #l0 "cp866"
  set-char-mask "M" " ÿ¡ö¢÷¤ı¨ğªò¯ô°ø·ú¸ñ¹üºó¿õÀ€ÁÂ‚ÃƒÄ„Å…Æ†Ç‡ÈˆÉ‰ÊŠË‹ÌŒÍÎÏĞÑ‘Ò’Ó“Ô”Õ•Ö–×—Ø˜Ù™ÚšÛ›ÜœİŞßŸà á¡â¢ã£ä¤å¥æ¦ç§è¨é©êªë«ì¬í­î®ï¯ğàñáòâóãôäõåöæ÷çøèùéúêûëüìıíşîÿï"
  set-char-mask "c" "0410041104120413041404150416041704180419041A041B041C041D041E041F0420042104220423042404250426042704280429042A042B042C042D042E042F0430043104320433043404350436043704380439043A043B043C043D043E043F259125922593250225242561256225562555256325512557255D255C255B251025142534252C251C2500253C255E255F255A25542569256625602550256C25672568256425652559255825522553256B256A2518250C25882584258C259025800440044104420443044404450446044704480449044A044B044C044D044E044F040104510404045404070457040E045E00B0221900B7221A211600A425A000A0"
!elif &seq #l0 "koi8-f"
  set-char-mask "M" "€±²ƒ¢Š¹Œº¼»¿¡š©œª¬«Ÿ¯ š¡¾¢®£¸¤Ÿ¥½¨³©˜ª´«®œ¯·²¶³¦´­·¸£¹°º¤»›¼¨½µ¾¥¿§ÀáÁâÂ÷ÃçÄäÅåÆöÇúÈéÉêÊëËìÌíÍîÎïÏğĞòÑóÒôÓõÔæÕèÖã×şØûÙıÚÿÛùÜøİüŞàßñàÁáÂâ×ãÇäÄåÅæÖçÚèÉéÊêËëÌìÍíÎîÏïĞğÒñÓòÔóÕôÆõÈöÃ÷ŞøÛùİúßûÙüØıÜşÀÿÑ"
  set-char-mask "c" "25002502250C251025142518251C2524252C2534253C258025842588258C2590259120182019201C201D22192013201400A9212200a000BB00AE00AB00B700A400a0045204530451045404550456045704580459045A045B045C0491045E045F2116040204030401040404050406040704080409040A040B040C0490040E040F044E0430043104460434043504440433044504380439043A043B043C043D043E043F044F044004410442044304360432044C044B04370448044D04490447044A042E0410041104260414041504240413042504180419041A041B041C041D041E041F042F042004210422042304160412042C042B04170428042D04290427042A"
!elif &seq #l0 "cp1253"
  set-char-mask "M" ""
  set-char-mask "c" "20AC0081201A0192201E20262020202100882030008A2039008C008D008E008F009020182019201C201D20222013201400982122009A203A009C009D009E009F00A00385038600A300A400A500A600A700A800A9000000AB00AC00AD00AE201500B000B100B200B3038400B500B600B703880389038A00BB038C00BD038E038F0390039103920393039403950396039703980399039A039B039C039D039E039F03A003A1000003A303A403A503A603A703A803A903AA03AB03AC03AD03AE03AF03B003B103B203B303B403B503B603B703B803B903BA03BB03BC03BD03BE03BF03C003C103C203C303C403C503C603C703C803C903CA03CB03CC03CD03CE0000"
!elif &seq #l0 "iso8859-7"
  set-char-mask "M" "€¤¢¶"
  set-char-mask "c" "0080008100820083008400850086008700880089008A008B008C008D008E008F0090009100920093009400950096009700980099009A009B009C009D009E009F00A02018201900A320AC20AF00A600A700A800A9037A00AB00AC00AD0000201500B000B100B200B303840385038600B703880389038A00BB038C00BD038E038F0390039103920393039403950396039703980399039A039B039C039D039E039F03A003A1000003A303A403A503A603A703A803A903AA03AB03AC03AD03AE03AF03B003B103B203B303B403B503B603B703B803B903BA03BB03BC03BD03BE03BF03C003C103C203C303C403C503C603C703C803C903CA03CB03CC03CD03CE0000"
!elif &seq #l0 "cp1254"
  set-char-mask "M" ""
  set-char-mask "c" "20AC0081201A0192201E20262020202102C62030016020390152008D008E008F009020182019201C201D20222013201402DC21220161203A0153009D009E017800A000A100A200A300A400A500A600A700A800A900AA00AB00AC00AD00AE00AF00B000B100B200B300B400B500B600B700B800B900BA00BB00BC00BD00BE00BF00C000C100C200C300C400C500C600C700C800C900CA00CB00CC00CD00CE00CF011E00D100D200D300D400D500D600D700D800D900DA00DB00DC0130015E00DF00E000E100E200E300E400E500E600E700E800E900EA00EB00EC00ED00EE00EF011F00F100F200F300F400F500F600F700F800F900FA00FB00FC0131015F00FF"
!elif &seq #l0 "iso8859-9"
  set-char-mask "M" "ŠSšsŸYSSssYY"
  set-char-mask "c" "0080008100820083008400850086008700880089008A008B008C008D008E008F0090009100920093009400950096009700980099009A009B009C009D009E009F00A000A100A200A300A400A500A600A700A800A900AA00AB00AC00AD00AE00AF00B000B100B200B300B400B500B600B700B800B900BA00BB00BC00BD00BE00BF00C000C100C200C300C400C500C600C700C800C900CA00CB00CC00CD00CE00CF011E00D100D200D300D400D500D600D700D800D900DA00DB00DC0130015E00DF00E000E100E200E300E400E500E600E700E800E900EA00EB00EC00ED00EE00EF011F00F100F200F300F400F500F600F700F800F900FA00FB00FC0131015F00FF"
!elif &seq #l0 "cp437"
  set-char-mask "M" "ƒŸŠSZšszŸY ÿ¡­¢›£œ¥ª¦«®¬ª°ø±ñ²ıµæ·úº§»¯¼¬½«¿¨ÀAÁAÂAÃAÄÅÆ’Ç€ÈEÉÊEËEÌIÍIÎIÏIÑ¥ÒOÓOÔOÕOÖ™ØOÙUÚUÛUÜšİYßáà…á âƒãaä„å†æ‘ç‡èŠé‚êˆë‰ìí¡îŒï‹ñ¤ò•ó¢ô“õoö”÷öøoù—ú£û–üıyÿ˜AAEEIIOOSSUUYYZZoossyyzz"
  set-char-mask "c" "00C700FC00E900E200E400E000E500E700EA00EB00E800EF00EE00EC00C400C500C900E600C600F400F600F200FB00F900FF00D600DC00A200A300A520A7019200E100ED00F300FA00F100D100AA00BA00BF231000AC00BD00BC00A100AB00BB259125922593250225242561256225562555256325512557255D255C255B251025142534252C251C2500253C255E255F255A25542569256625602550256C25672568256425652559255825522553256B256A2518250C25882584258C2590258003B100DF039303C003A303C300B503C403A6039803A903B4221E03C603B52229226100B1226522642320232100F7224800B0221900B7221A207F00B225A000A0"
  set-char-mask "dp" "\CA\CB\CC\CD\CE\CF\CG\CP\CQ\CZ\C[\C^\C_"
  set-variable $box-chars "³Ú¿ÀÙÂÃÅ´ÁÄ"
  set-variable $window-chars "=-#*%=\C^± ±\C_\CD==\C^\C^±±  ±±\C_\C_\C[\CZ|\CQ± ±\CP\CD||\CQ\CQ±±  ±±\CP\CP\C[\CZ x* \CP \CQ>\\.$$\\"
  set-variable $system &band $system &bnot 0x10000
  set-variable #l1 0
!elif &seq #l0 "plain-text"
  set-char-mask "M" "ÀAÁAÂAÃAÄAÇCÈEÉEÊEËEÌIÍIÎIÏIÑNÒOÓOÔOÕOÖO×xØOÙUÚUÛUÜUİYßBàaáaâaäaåaçcèeéeêeëeìiíiîiïiñnòoóoôoõoöoøoùuúuûuüuıyşbÿy"
!else
  2000 ml-write &spr "[Error: Unknown character set \"%s\", use user-setup to reconfigure]" #l0
!endif
!iif &seq "" &set .change-font.wftp &lget .change-font.cs-wftp &set #l2 &lfind .change-font.cs-id #l0  set-variable .change-font.wftp 0
!iif &reg &spr "/history/%s/ext-char-set" %platform "0"  set-variable $system &bor $system 0x10000
!if &ban $system 0x10000
  set-char-mask "dp" "\CA\CB\CY\CM\CL\CN\CK\CX\CU\CO\CV\CW\CR\CP\CQ\C^\C_\CG\C[\C]"
  set-char-mask "p"  "\CC\CD\CE\CF\CH\CI\CJ\CS\CT\CZ"
  set-variable .osd.checkbox-chars "^\CC\CD\CE\CF^"
  set-variable $box-chars "\CY\CM\CL\CN\CK\CX\CU\CO\CV\CW\CR"
  set-variable $window-chars "=-#*%=\C^\C[ \C[\C_*==\C^\C^\C[\C[  \C[\C[\C_\C_**|\CQ\C] \C]\CP*||\CQ\CQ\C]\C]  \C]\C]\CP\CP** \CT\CZ \CP \CQ\t\n\CH\CQ\CP\\"
!else
  set-variable .osd.checkbox-chars "^[ X]^"
  !if #l1
    set-variable $box-chars "|+++++++++-"
    set-variable $window-chars "=-#*%=^   v*==^^      vv**|<   >*||<<      >>** x* > <>\\.$$\\"
    set-variable $system &band $system &bnot 0x10000
  !endif
!endif
!if &seq "2" &set #l2 &mid .change-font.cs-type &sub #l2 1 1
  set-char-mask "a" "ŠšŒœŸÿÀàÁáÂâÃãÄäÅåÆæÇçÈèÉéÊêËëÌìÍíÎîÏïĞğÑñÒòÓóÔôÕõÖöØøÙùÚúÛûÜüİıŞşßßAaEeIiOoSsUuYyZz"
!elif &seq "0" #l2
  set-char-mask "a" "ŠšŒœŸ£³¥¹ªº¯¿¼¾ÀàÁáÂâÃãÄäÅåÆæÇçÈèÉéÊêËëÌìÍíÎîÏïĞğÑñÒòÓóÔôÕõÖöØøÙùÚúÛûÜüİıŞşßß"
!elif &seq "1" #l2
  set-char-mask "a" "€ƒŠšŒœŸ¡¢£¼¥´¨¸ªº¯¿²³½¾ÀàÁáÂâÃãÄäÅåÆæÇçÈèÉéÊêËëÌìÍíÎîÏïĞğÑñÒòÓóÔôÕõÖö×÷ØøÙùÚúÛûÜüİıŞşßÿ"
!elif &seq "3" #l2
  set-char-mask "a" "ÀÀàà¢Ü¸İ¹Şºß¼ü¾ı¿şÁáÂâÃãÄäÅåÆæÇçÈèÉéÊêËëÌìÍíÎîÏïĞğÑñÓòÓóÔôÕõÖö×÷ØøÙùÚúÛû"
!elif &seq "4" #l2
  set-char-mask "a" "ŠšŒœŸÿÀàÁáÂâÃãÄäÅåÆæÇçÈèÉéÊêËëÌìÍíÎîÏïĞğÑñÒòÓóÔôÕõÖöØøÙùÚúÛûÜüİıŞşßßSsYy"
!endif
