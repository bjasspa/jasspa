.\" -*- nroff -*-
.\" Copyright (C) 1999-2009 JASSPA (www.jasspa.com)
.\"
.\" This is part of JASSPA's MicroEmacs, see the LICENSE file for licensing and
.\" copying information.
.\"
.\"  Created By    : Jon Green
.\"  Created       : Mon Jul 5 18:16:21 1999
.\"
.Id $Id: m3mac093.3,v 2.12 2025/11/29 00:37:25 jon Exp $
.Im MicroEmacs shell|command
.so me.tni
.TH git 3
.XI git - "\*(mS GIT interface"
.XI git-setup - "\*(mS GIT interface setup"
.XI git-add - "\*(mS GIT interface - add items to the index"
.XI git-blame - "\*(mS GIT interface - annotate a file"
.XI git-checkout - "\*(mS GIT interface - switch branches or restore files"
.XI git-commit - "\*(mS GIT interface - commit changes to repository"
.XI git-diff - "\*(mS GIT interface - diff changes"
.XI git-fetch - "\*(mS GIT interface - download from another repository"
.XI git-log - "\*(mS GIT interface - list log of changes"
.XI git-move - "\*(mS GIT interface - move an item"
.XI git-pull - "\*(mS GIT interface - download and integrate another repository"
.XI git-push - "\*(mS GIT interface - update remote repository"
.XI git-remove - "\*(mS GIT interface - remove items"
.XI git-show - "\*(mS GIT interface - show information about a specific commit"
.XI git-show-file - "\*(mS GIT interface - output specific commit of a file"
.XI git-status - "\*(mS GIT interface - status of items"
.SH NAME
.Me "|git"
git \- \*(mS GIT interface
.br
.Me "|git-setup"
git-setup \- \*(mS GIT interface setup
.br
.Me "|git-add"
git-add \- \*(mS GIT interface - add items to the index
.br
.Me "|git-blame"
git-blame \- \*(mS GIT interface - annotate a file
.br
.Me "|git-checkout"
git-checkout \- \*(mS GIT interface - switch branches or restore files
.br
.Me "|git-commit"
git-commit \- \*(mS GIT interface - commit changes to repository
.br
.Me "|git-diff"
git-diff \- \*(mS GIT interface - diff changes
.br
.Me "|git-fetch"
git-ignore \- \*(mS GIT interface - download from another repository
.br
.Me "|git-log"
git-log \- \*(mS GIT interface - list log of changes
.br
.Me "|git-move"
git-move \- \*(mS GIT interface - move an item
.br
.Me "|git-pull"
git-pull \- \*(mS GIT interface - download and integrate another repository
.br
.Me "|git-push"
git-push \- \*(mS GIT interface - update remote repository
.br
.Me "|git-remove"
git-remove \- \*(mS GIT interface - remove items
.br
.Me "|git-show"
git-show \- \*(mS GIT interface - show information about a specific commit
.br
.Me "|git-show-file"
git-show-file \- \*(mS GIT interface - output specific commit of a file
.br
.Me "|git-status"
git-status \- \*(mS GIT interface - status of items
.Me $a
.SH SYNOPSIS
.na
.I n
.B git
.br
.B git-setup
.sp 1
.B git-add
.br
.B git-blame
.br
.B git-checkout
.br
.B git-commit
.br
.B git-diff
.br
.B git-fetch
.br
.B git-log
.br
.B git-move
.br
.B git-pull
.br
.B git-push
.br
.B git-remove
.br
.B git-show
.br
.B git-show-file
.br
.B git-status
.ad
.SH DESCRIPTION
The git and sub-commands provide \*(mS with an interface to the
.Hr GIT 1 
version control system, see the documentation provided with GIT for more information on its features and use.
.PP
The \*(mS \fBgit\fR command opens up a modified
.Ht file-browser 3
with an additional  "\fC*git-console*\fR"  window. The "\fC*files*\fR"  window includes additional flags within the 
Attributes column showing the GIT state. The browser by default opens with 3 windows including a representation of the
file tree. When \fBgit\fR is provided with a numeric argument \fIn\fR of zero (0) then a single window  displaying the
directory is used only (i.e. 
.BR "0 git") 
.PP
The  functionality  of the  file-browser  is the same as a non-GIT folder with the exception that  additional GIT item
controls  are  located in the mouse  context  menu  (opened by clicking  the right mouse  button in the  \fC*files*\fR
buffer). This menu item opens another  sub-menu  providing  access to the items below. When selecting  commands than a
pop-up check-box may be displayed which allows options to be selected for the command.
.IP "\fBCurrent State\fR"
Executes the git-status command.
.IP "\fBCheckout files\fR"
Executes the git-checkout command.
.IP "\fBCommit files\fR"
Executes the git-commit command.
.IP "\fBDiff files\fR"
Executes the git-diff command.
.IP "\fBItem Log\fR"
Executes the git-log command, one or more items must be selected.
.IP "\fBItem Blame\fR"
Executes the git-blame command, one file must be selected.
.IP "\fBMove items\fR"
Executes the git-move command, one or more items must be selected.
.IP "\fBAdd items\fR"
Executes the git-add command, one or more items must be selected.
.IP "\fBRemove items\fR"
Executes the git-remove command, one or more items must be selected.
.IP "\fBClear Git console\fR"
Clears the \fI*git-console*\fR buffer.
.IP "\fBGIT Setup\fR"
Executes the git-setup command.
.SS Sub-Commands
.PP
The \fBgit-add\fR command adds the current buffer or selected items to the index (also known as the staging area).
Note that a \fIGIT\fR \fIcommit\fR is required to make the addition permanent.
.PP
The \fBgit-blame\fR command opens a \fI*git-blame*\fR window annotating the commit and author of each line in the
current buffer or single selected file.
.PP
The \fBgit-checkout\fR command switches branches or restores working tree files.
.PP
The \fBgit-commit\fR command commits any changes made to the index (staging area) back to the repository, local
changes that have not been added to the index are ignored. The user is prompted for a commit log message. While the 
git commit command can commit changes to local files at the same time, this feature is not supported as it has been 
deemed confusing and dangerous as it will always commit \fIALL\fP index changes back, not just selected ones. As a 
result all modified and new files must first be added to the index using \fBgit-add\fR.
.PP
The \fBgit-diff\fR command opens a \fI*git-diff*\fR window displaying the differences between the current buffer or
selected local files and the repository version.
.PP
The \fBgit-fetch\fR command downloads branches and changes from the external repository, the command does not change the 
current index or local files. 
.PP
The \fBgit-log\fR command opens a \fI*git-log*\fR window displaying the GIT commit log history of the current buffer
or a combined log of the selected files.
.PP
The \fBgit-move\fR command moves (i.e. same as rename when the destination directory is the same) the current buffer's
file or selected items, any required changes to the buffer should be saved first and the new file loaded once moved.
Note that unlike copy, GIT does not support a direct local to reposition move. The advantage of using move over simply
deleting and adding a new item is that the item's change log history will be maintained.
.PP
The \fBgit-pull\fR command performs a \fBgit-fetch\fR first followed by a forward only integration. The command can
optionally perform a \fCgit stash\fR first and, if the integration is successful it can optionally perform a
\fCgit stash pop\fR. The integration can fail when there are any changes to the local repository (i.e. commits), index
changes (i.e. local modifications that have been added but not committed) or to local files. If there have been local
commits then these changes will need to be merged, \fBgit-pull\fR's use of forward only will successfully integrate
trivial merges, but more complicated merges will need to be done manually using git merge or rebase and is beyond the
scope of this documentation. To merging changes any index changes will need to be committed first, local changes can
be committed or handled by use of the Stash options. Note that if the pull requires a manual merge, any local changes
that have been stashed will need to be manually popped once the merge has been completed.
.PP
The \fBgit-push\fR command updates the remote repository with all changes made to the local repository. This command
can fail if the local repository is out of date, i.e. other commits have been made or pushed to the remote repository
since the last fetch. When this happens the \fBgit-fetch\fR command should be called and changes integrated, see notes 
on \fBgit-pull\fR above.
.PP
The \fBgit-remove\fR command removes the file of the current buffer or selected files and flags them for removal in
the index (staging area), the files will be permanently removed from the repository when the change is committed back.
PLEASE NOTE THIS CAN LEAD TO LOST DATA!!! As the local file will be removed the file-browser will no longer list the 
file, use the \fBgit-status\fR command to list change as this list includes all items flagged for removal.
.PP
The \fBgit-show\fR command opens a \fI*git-show*\fR windows displaying information about a specified GIT commit. 
.PP
The \fBgit-show-file\fR command opens a \fI*<file-name>:<commit>\fR window with the contents set to the specified
commit of a selected file.
.PP
The \fBgit-status\fR  command opens a \fI*git-state*\fR window and shows the state of all the items within the current
directory,  including the modification state, and optionally whether items are out-of-date (i.e. have been modified in
the repository).
.SS Setup
.B git-setup
provides a dialog interface to configure the \*(mS GIT interface if required. On a typical system installation then it
is sufficient to have the \fBgit\fR program in the \fB$PATH\fR and the GIT tools will operate from a working copy of a
repository.
.PP
.B git-setup
may also be accessed from
.Ht user-setup 3 
from the \fBMiscellaneous\fR configuration. The the dialog provides the following configuration tabs and options:
.PP
\fBGeneral\fR
.RS
.IP "\fCGIT Command\fR"
Sets the git command-line program name, this can be an absolute path.
.IP "\fCGlobal opts\fR"
Sets command-line arguments which are to be always given to the git command, the default of \fC--no-pager\fR informs
GIT that the program is being run in the background so must not wait for user input.
.IP "\fCDefault Rep\fR"
Defines the default GIT repository, this is used by commands like \fBgit-fetch\fR when a branch is specified and is
typically \fCorigin\fR.
.IP "\fCDefault Branch\fR"
Defines the default GIT branch which is typically \fCmain\fR or \fBmaster\fR, many commands dynamically get the 
current branch for GIT when required.
.IP "\fCDEnable Support on Start-Up\fR"
When enabled the git support macros are loaded on start-up enabling the file-browser to detect GIT controlled
directories. If this is not enabled then the file-browser will only identify GIT controlled directories once a GIT
command has been executed.
.RE
.IP "\fBTools\fR"
In this tab each sub-command can be selected and their default option settings changed as required.
.SH NOTES
\fBgit\fR and sub-commands are macros defined in file \fCgit.emf\fR.
.SH "SEE ALSO"
.na
.Ht svn 3 ,
.Ht cvs 3 ,
.Ht ClearCase 3 ,
.Ht file-browser 3 ,
.Ht $rcs-file 5 .
.ad
.FH
