.\" -*- nroff -*-
.\" This is part of the JASSPA MicroEmacs documentation files.
.\" Copyright (c) 1998-2009 JASSPA (www.jasspa.com)
.\" See the file "me.nrs" for copying and conditions.
.\"
.Id $Id: m5var041.5,v 2.9 2023/03/01 14:02:58 jon Exp $
.Im MicroEmacs variable|shell|macrodevelop
.so me.tni
.TH $result 5
.XI $result - "Various command return values"
.SH NAME
$result \- Various command return values
.Me $a
.SH SYNOPSIS
.B $result
.I returnValue
.SH DESCRIPTION
.B $result
is used to return the results of several commands:
.PP
.Ht buffer-info 2 
\fB$result\fR is set to the same output string as printed to the message-line by this command.
.TP
.Ht change-font 2 
\fB$result\fR  is used to return the current or user select font.
.TP
.Ht count-words 2 
\fB$result\fR is set to the same output string as printed to the message-line by this command.
.TP
.Ht describe-key 2 
\fB$result\fR is set to the command bound to the given key.
.TP
.Ht file-op 2 
\fB$result\fR is used to return an error code when the command fails.
.TP
.Ht find-registry 2 
\fB$result\fR is used to return the name of a registry child node given the parent and index from the user.
.TP
.Ht generate-hash 2 
\fB$result\fR is set to the generated hash string.
.TP
.Ht goto-alpha-mark 2 
\fB$result\fR is set to the list of all alpha marks in the current buffer when an argument of \fC0\fR is given.
.TP
.Ht indent 2 
\fB$result\fR is set to the indent scheme used at current location when an argument of \fC2\fR is given.
.TP
.Ht mark-registry 2
\fB$result\fR is used to return the full name of the given registry node.
.TP
.Ht replace-string 2
.Ht query-replace-string 2
.IP
\fB$result\fR is used to return the number of substitutions,  the final replace mode ('a' for all, 'l' for last or 'q'
for query) and the replace with string in a list.
.TP
.Ht osd 2 
.IP
\fB$result\fR  is used to give  and  return  information  to osd item  commands,  information  depends  on the type of
\fBosd\fR item.
.TP
.Ht osd-dialog 3
.Ht osd-xdialog 3
.IP
\fB$result\fR  is used to return the button pressed by the user.
.TP
.Ht set-char-mask 2 
.IP
\fB$result\fR is set to the characters in the given set.
.TP
.Ht shell-command 2 
.IP
\fB$result\fR  is set to the exit status of the \fBsystem\fR  call. The combination of  \fBshell-command\fR  calls and
return value checking can be used in a variety of ways, for example, to test the existence of a file:
.Me $emf-scheme
.CS
set-variable %filename @ml"Enter file name"
shell-command &cat "test -f " %filename
!if &equ $result 0
    ml-write "file exists"
!else
    ml-write "file does not exists"
!endif
.CE 0
.Me $ehf-scheme
.TP
.Ht show-region 2 
.IP
\fB$result\fR  is set to the current  status of the region when an argument of
\fI0\fR is given to \fBshow-region\fR.
.TP
.Ht spell 2
.IP
\fB$result\fR  is used to return  information  on the current word, the  information  depends on the argument given to
\fBspell\fR.
.TP
.Ht @mx 4
.IP
\fB$result\fR  is set to the prompt to be used during the input.
.TP
.Ht $file-names 5
.IP
\fB$result\fR is set to the absolute path of the \fB$file-names\fR query directory when the variable is set.
.PP
For more information see the help pages on referenced commands and variables.
.SH NOTES
The current value of \fB$result\fR is lost on the next command call which uses
it. As a call to
.Ht create-callback 2
can cause the  execution of a macro to interrupt  another which is waiting for
user input, the value of  \fB$result\fR  should be copied before  getting user
input.
.SH "SEE ALSO"
.na
.Ht buffer-info 2 ,
.Ht change-font 2 ,
.Ht count-words 2 ,
.Ht create-callback 2 ,
.Ht describe-key 2 ,
.Ht file-op 2 ,
.Ht find-registry 2 ,
.Ht generate-hash 2 ,
.Ht goto-alpha-mark 2 ,
.Ht indent 2 ,
.Ht mark-registry 2 ,
.Ht query-replace-string 2 ,
.Ht osd 2 ,
.Ht set-char-mask 2 ,
.Ht shell-command 2 ,
.Ht show-region 2 ,
.Ht spell 2 ,
.Ht @mx 4 ,
.Ht $file-names 5 ,
.Ht $status 5 .
.ad
.FH
