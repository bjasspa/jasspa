.\" -*- nroff -*-
.\" This is part of the JASSPA MicroEmacs documentation files.
.\" Copyright (c) 1998-2009 JASSPA (www.jasspa.com)
.\" See the file "me.nrs" for copying and conditions.
.\"
.Id $Id: m2cmd113.2,v 2.8 2009/10/03 16:35:40 jon Exp $
.Im MicroEmacs command|file|essential
.ds C0 "(\fB\*(cX\*cs\fR)\ \&
.so me.tni
.TH save-buffer 2
.XI save-buffer - "\*(C0Save contents of changed buffer to file"
.SH NAME
save-buffer \- Save contents of changed buffer to file
.Me $a
.SH SYNOPSIS
.na
\fIn\fR \fBsave-buffer\fR \*(C0
.ad
.SH DESCRIPTION
.B save-buffer
saves the contents of the current  buffer if the contents  have been  changed,
writing the buffer back to the file it was read from.
.PP
On saving the file, if
.Ht time 2m
mode is enabled then the
.Hl "time stamp string" $timestamp 5
is  searched  for  in the  file  and  modified  if  located,  to  reflect  the
modification date and time.
.PP
If
.Ht backup 2m
mode is enabled  then a backup  copy of the file  existing  is created and the
contents of the buffer are written to the file. Any
.Hl "automatic save" $auto-time 5
copies of the file are deleted.
.PP
If the buffer contains a
.Ht narrow 2m
it will automatically  be removed  before  saving so that the whole  buffer is
saved and restored when saving is complete
.PP
If
.Ht auto 2m
mode is enabled the the file is written out in the style indicated by modes
.Ht cr 2m ,
.Ht lf 2m
and
.Ht ctrlz 2m .
Otherwise the file is written out in the style on the current platform.
.PP
The  argument  \fIn\fR  can  be  used  to  change  the  default  behavior  of
save-buffer described above, \fIn\fR is a bit based flag where:-
.IP \fB0x01\fR
Enables  validity  checks  (default).  These include check that the buffer has
been  modified, if not an error  occurs. Also the time stamp of the file to be
written  is  checked,  if the  file  systems  file  exists  and is  newer  the
confirmation  of  writing  is  requested  from the  user. If this  flag is not
supplied then the buffer is written whenever  possible and without any prompts
to the user.
.IP \fB0x02\fR
Disables the expansion of any narrows (see
.Ht narrow-buffer 2 )
before  saving the  buffer.  That is, the buffer is saved as it appears on the
screen and the content of any narrow regions is discarded.
.SH NOTES
.BS
.Ht undo 2
information is discarded when the file is saved.
.BU
Refer to
.Ht $auto-time 5
for a  description  of the  file  extensions  used by  \*(mE  for  backup  and
temporary files.
.BU
Buffers may also be saved via the
.Ht list-buffers 2
command.
.BE 0
.SH "SEE ALSO"
.na
.Ht $auto-time 5 ,
.Ht $timestamp 5 ,
.Ht buffer-mode 2 ,
.Ht find-file 2 ,
.Ht narrow-buffer 2 ,
.Ht save-some-buffers 2 ,
.Ht undo 2 ,
.Ht backup 2m ,
.Ht time 2m ,
.Ht undo 2m ,
.Ht narrow 2m ,
.Ht auto 2m ,
.Ht cr 2m ,
.Ht ctrlz 2m ,
.Ht lf 2m ,
.Ht write-buffer 2 ,
.Ht append-buffer 2 .
.ad
.rm C0
.FH
