.\" -*- nroff -*-
.\" Copyright (C) 1999-2025 JASSPA (www.jasspa.com)
.\"
.\" This is part of JASSPA's MicroEmacs, see the LICENSE file for licensing and
.\" copying information.
.\"
.\"  Created By    : Jon Green
.\"  Created       : Thu Jun 24 22:02:47 1999
.\"
.Id $Id: m9typ048.9,v 2.6 2025/07/29 19:38:23 jon Exp $
.Im MicroEmacs filetype
.so me.tni
.TH r 9
.XI r - "R Language File"
.XI r-doc 3 "R documentation manual page viewer"
.SH SYNOPSIS
r \- R Language File.
.br
\fBr-doc\fR
.br
\fBr-doc\fR \fIfunction\fR
.br
\fBr-doc\fR \fIpackage::packagename\fR
.br
\fBr-doc\fR \fIpackage::function\fR
.SH FILES
.B hkr.emf
\- R Language file hook and r-doc definition
.br
.B r.eaf
\- R language abbreviation file
.br
.B r.etf
\- R language template file
.SH EXTENSIONS
\fB.r\fR \- R file
.SH "MAGIC STRINGS"
.TP
\fB^#![ \\t]*/.*env[ \\t]+Rscript\fR
.\"
\*(mE recognizes the magic string on the first line of the file used to locate
the  executable.  The  Rscript  files  may  be  extension-less  and  are  still
recognized.
.SH DESCRIPTION
The  \fBR\fR  macro  file  hook  provides   simple   hilighting  of  R  files,
inserting abbreviations and browsing the structure of the file using item-list
and folding..
.PP
File  recognition  is performed  using the standard file  extension  \fB.r\fR,
\fB.R\fR or by the magic string.
.IP "\fBAbbreviations\fR"
The  installation  comes with a default  abbreviation  file for R code  editing
which  can  be  used  by  writing  short   abbreviations   like   "\fBmain\fR"
for a default Rscript application outline,"\fBfor\fR",
"\fBif\fR"  or  "\fBfun\fR"  -  for  a R  function  - and  then  pressing  the
key-binding  for the 
.Ht expand-abbrev-handle 3
command.  The  list  of  abbreviations  can be used  interactively  in the GUI
version of \*(mE using the 
.Ht abbrev-list 3
command.
.IP "\fBFolding and Information Hiding\fR"
Generic  folding is enabled  within the R files. The folds occur about
the \fBfunction\fR keywords located on the left-hand margin at the beginning 
of the line if the smaller-minus assignment operator is used.
The following commands are supported to show and hide the function bodies.
.Ht collapse-all 3
(un)folds all regions in the file,
.Ht collapse-current 3
(un)folds the current region.
.IP "\fBList Items\fR"
Item listing is available and the key  constructs of the file may be listed in
the \fIitem-list\fR.
.IP "\fBShort Cuts\fR"
The short cut keys used within the buffer are:-
.IP
\fB\*cc \*cc\fR \- Comment out the current line.
.br
\fB\*cc \*cd\fR \- Uncomment the current line.
.br
\fB\*cc \*ce\fR \- Comment to the end of the line with stars (*).
.br
\fB\*a\*ci\fR \- Restyle the current region.
.br
\fBf2\fR \- (un)fold the current region
.br
\fBf3\fR \- (un)fold all regions
.br
\fBf6\fR \- list items
.br
\fB\*e f6\fR \- close list items
.IP "\fBExecuting, Formatting and Linting R Code\fR"
The R file hook supports the 
.Ht file-exec 3
, the 
.Ht file-format 3
and the 
.Ht file-lint 3
macros.   The  R   packages   tools   which  are   currently   supported   are
"formatR"  and  "lintr"  which can be  installed  either  using your  standard
package manager or for the current user using the "install.packages" function.
Here an example on how to install these packages from within :
.CS
§ R
> install.packages(c("formatR","lintr"))
.CE
.IP "\fBr-doc macro\fR"
\fBr-doc\fR provides a mechanism to display an R manual page within \*(mS. On invoking \fBr-doc\fR the
user is prompted for the name of the manual page to display:-
.CS
R help on ?
.CE
The command invokes the R \fBhelp\fR function,
.Hr Rscript 1 ,
for the R manual page entered in the message line.
.PP
Another R documentation page can be selected in the generated help page by either moving the cursor to the link and
pressing return or double clicking on it with the left mouse button. \*(mS will then attempt to load and display the
selected R manual page.
.SH NOTES
.PP
The  hilighting  or the item-list matches are  typically   extended  using  a  file   \fBmyr.emf\fR
.SH BUGS
Functions with using the equal operator for  assignments  are not shown in the
function  outline,  this should be seen as a feature  which allow you to write
hidden internal functions within other functions.
.SH "SEE ALSO"
.na
.Ht abbrev-list 3 ,
.Ht c 9 ,
.Ht collapse-all 3 ,
.Ht collapse-current 3 ,
.Ht compile 3 ,
.Ht expand-abbrev-handle 3 ,
.Ht file-exec 3 ,
.Ht file-format 3 ,
.Ht file-lint 3 ,
.Ht item-list 3 ,
.Ht restyle-buffer 3 ,
.Ht restyle-region 3 ,
.Ht py 9 ,
.Ht sh 9 .
.sp 1
.Hl "Supported File Types" FileTypes -
.ad
.FH

