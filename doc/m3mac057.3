.\" -*- nroff -*-
.\" This is part of the JASSPA MicroEmacs documentation files.
.\" Copyright (c) 1999-2002 JASSPA (www.jasspa.com)
.\" See the file "me.nrs" for copying and conditions.
.\"
.\"  Created By    : Jon Green
.\"  Created       : Mon Jul 5 18:16:21 1999
.\"
.Id $Id: m3mac057.3,v 2.9 2004-12-08 23:40:17 bill Exp $
.Im MicroEmacs shell|command
.so me.tni
.TH cvs 3
.XI cvs - "\*(mS CVS interface"
.XI cvs-setup - "\*(mS CVS interface setup"
.XI cvs-add - "\*(mS CVS interface - add file"
.XI cvs-checkout - "\*(mS CVS interface - checkout files"
.XI cvs-commit - "\*(mS CVS interface - commit changes"
.XI cvs-diff - "\*(mS CVS interface - diff changes"
.XI cvs-gdiff - "\*(mS CVS interface - graphical diff changes"
.XI cvs-log - "\*(mS CVS interface - log changes"
.XI cvs-remove - "\*(mS CVS interface - remove file"
.XI cvs-resolve-conflicts - "\*(mS CVS interface - resolve conflicts"
.XI cvs-state - "\*(mS CVS interface - list state of directory files"
.XI cvs-status - "\*(mS CVS interface - status of files"
.XI cvs-tag - "\*(mS CVS interface - tag files"
.XI cvs-update - "\*(mS CVS interface - update directory files"
.XI %cvs-com 5 "CVS Command line" variable|shell
.SH NAME
.Me "|cvs"
cvs \- \*(mS CVS interface
.br
.Me "|%cvs-com"
cvs-setup \- \*(mS CVS interface setup
.br
.Me "|cvs-add"
cvs-add \- \*(mS CVS interface - add file
.br
.Me "|cvs-checkout"
cvs-checkout \- \*(mS CVS interface - checkout files and directories
.br
.Me "|cvs-commit"
cvs-commit \- \*(mS CVS interface - commit changes
.br
.Me "|cvs-diff"
cvs-diff \- \*(mS CVS interface - diff changes
.br
.Me "|cvs-gdiff"
cvs-gdiff \- \*(mS CVS interface - graphical diff changes
.br
.Me "|cvs-log"
cvs-log \- \*(mS CVS interface - log changes
.br
.Me "|cvs-remove"
cvs-remove \- \*(mS CVS interface - remove file
.br
.Me "|cvs-resolve-conflicts"
cvs-resolve-conflicts \- \*(mS CVS interface - resolve conflicts
.br
.Me "|cvs-state"
cvs-state \- \*(mS CVS interface - list state of directory files
.br
.Me "|cvs-status"
cvs-status \- \*(mS CVS interface - status of files
.br
.Me "|cvs-tag"
cvs-tag \- \*(mS CVS interface - tag files
.br
.Me "|cvs-update"
cvs-update \- \*(mS CVS interface - update directory files
.Me $a
.SH SYNOPSIS
.na
.B cvs
.br
.B cvs-setup
.sp 1
.B cvs-add
.br
.B cvs-checkout
.br
.B cvs-commit
.br
.B cvs-diff
.br
.B cvs-gdiff
.br
.B cvs-log
.br
.B cvs-remove
.br
.B cvs-resolve-conflicts
.br
.B cvs-state
.br
.B cvs-status
.br
.B cvs-tag
.br
.B cvs-update
.ad
.SH DESCRIPTION
The cvs and  sub-commands  provide  \*(mS  with an  interface  to
.Hr cvs 1 .
\fBCVS\fR is a version control system; using it, you can record the history of
your source file  modifications.  CVS is licensed under the GNU General Public
License  and is  freely  available  on the  Internet,  see  the  documentation
provided with CVS for more information on its features and use.
.PP
The \*(mS \fBcvs\fR command opens up a modified
.Ht file-browser 3
with an additional  "\fC*cvs-console*\fR"  window. The "\fC*files*\fR"  window
includes  additional  columns  showing the CVS state,  revision and repository
date. The  functionality  of the  file-browser is the same as a non-CVS folder
with the exception that  additional CVS item controls are located in the mouse
context  menu (opened by clicking the right mouse button in the  \fC*files*\fR
buffer).  This  menu  item  opens  another  sub-menu  providing  access to the
items below. When selecting  commands than a pop-up check-box may be displayed
which allows options to be selected for the command.
.IP "\fBCurrent State\fR"
Checks the state of  selected  file(s) or  directory  against the  repository.
Differences detected are shown in the \fC*cvs-state*\fR  window. This provides
a  quick   method  of   determining   the   working   directory   state.
.IP
The \fC*cvs-state*\fR buffer supports some of the same features as a directory
listing, the files can be loaded (using \fCreturn\fR or left click on the file
name),  selected  (using space or left mouse button on the left hand edge) and
CVS commands  executed from the window operate either on the selected files or
the listed files if no files are selected. This runs the command
.\"
"\fCcvs\ -nq\ update <files>\fR".
.IP "\fBCheckout files\fR"
Checks out a file or directory from the repository into the current directory.
The file or  directory  is specified by typing the name into a dialog which is
opened when this option is selected.  This runs the command
.\"
"\fCcvs\ checkout\ <file>\fR".
.IP "\fBUpdate files\fR"
Updates the currently  selected files, files are selected by clicking the left
button to the left of the required file name.  Multiple  files may be selected
by 'dragging' a hilight region over the required  files. This runs the command
"\fCcvs update <files>\fR".
.IP "\fBCommit files\fR"
Commits any changes  made to the  selected  files back to the CVS  repository.
This runs the command
.\"
"\fCcvs\ commit\ <files>\fR". The user is prompted for the message to add on
the commit.
.IP "\fBDiff files\fR"
Displays any  differences  between the selected  files and the CVS  repository
version in the \fI*cvs-console*\fR window. This runs the command
\&"\fCcvs diff <files>\fR".
.IP "\fBLog files\fR"
Displays  the CVS  logs  for the  selected  files  in the  \fI*cvs-console*\fR
window. This runs the command "\fCcvs\ log\ <files>\fR".
.IP "\fBStatus files\fR"
Displays   the  CVS   status   for   each  of  the   selected   files  in  the
\fI*cvs-console*\fR window.
This runs the command "\fCcvs status -v <files>\fR".
.IP "\fBTag files\fR"
Adds,  removes or moves a CVS tag on the selected  file(s) or  directories.  A
pop-up  window is displayed  which allows entry of the tag name and define the
operation. This runs the command "\fCcvs\ tag\ <files>\fR".
.IP "\fBAdd files\fR"
Adds the selected files to the CVS repository. Note this command only performs
the local add, a \fBCVS commit\fR is required to make the addition  permanent.
This runs the command "\fCcvs add  <files>\fR". A pop-up is displayed to allow
the user to change the mode of the add to binary or text.
.IP "\fBRemove files\fR"
This command is deliberately not implemented as its far to dangerous!  Instead
it  opens a  dialog  informing  the user to use the  \fBcvs-remove\fR  command
instead.
.IP "\fBGraphical diff\fR"
This command opens a
.Ht gdiff 3
window showing the differences between the currently selected file and the CVS
repository version. Note this command only works with a single file.
.IP "\fBResolve conflicts\fR"
This  command  may be used to  resolve  merge  conflicts  created  by a \fICVS\fR
\fIupdate\fR operation. The command opens a
.Ht gdiff 3
window  showing the areas of conflict  allowing the user to select the correct
version  and saving the  resultant  version  back to the local file. Note this
command only works with a single file.
.IP "\fBClear cvs console\fR"
Clears the \fI*cvs-console*\fR buffer.
.PP
The  \fBcvs-add\fR  command adds the current  buffers file to the  repository.
Note  that  this  command  only  performs  the  local  addition,  a  \fICVS\fR
\fIcommit\fR is required to make the addition permanent.
.PP
The  \fBcvs-checkout\fR  command  checks  out a file  or  directory  from  the
repository  into the current  directory.  The user  specifies  the file on the
message line.
.PP
The  \fBcvs-commit\fR command commits any changes made to the currently buffer's file
(including additions) to the repository. The user is  prompted for a commit log
message.
.PP
The  \fBcvs-diff\fR  command opens a  \fI*cvs-diff*\fR  window  displaying the
differences between the current buffer's local file and repository version. If
the current buffer is a directory list it will list all the differences  found
in all files within the directory.
.PP
The \fBcvs-gdiff\fR command opens a
.Ht gdiff 3
window displaying the differences  between the current buffer's local file and
repository version.
.PP
The \fBcvs-log\fR  command opens a \fI*cvs-log*\fR  window  displaying the CVS
log of the current buffer's file.
.PP
The  \fBcvs-remove\fR  command  removes  the  current  buffer's  file from the
repository  - PLEASE  NOTE THIS CAN LEAD TO LOST  DATA!!!  This  command  only
performs   the  local   removal;  as  it  deletes  the  buffer  and  file  the
\fBcvs-commit\fR  command  cannot  be used to commit  the  removal  to the CVS
repository. Instead the main \fBcvs\fR file-browser menu or
.Hr cvs 1
itself must be used.
.PP
The  \fBcvs-resolve-conflicts\fR  command may be used to resolve any conflicts
created by CVS when the current buffer's file is updated. The command opens a
gdiff window  displaying  the areas of conflict,  the user may then select the
correct version in each case and save the resultant new version over the local
file.
.PP
The \fBcvs-state\fR command opens a \fI*cvs-state*\fR window listing the state
of any file in the current directory which is not up-to-date. Note that unlike
most cvs sub  commands  this  command  executes  over all files in the current
buffer's file directory.
.PP
The \fBcvs-status\fR command opens a \fI*cvs-state*\fR window and shows the
state of the current buffer in the window  including the  modification  state,
repository etc.
.PP
The  \fBcvs-tag\fR  command  opens a dialog  box and  allows  the user to add,
remove or delete a CVS tag. 
.PP
The  \fBcvs-update\fR  command updates all files in the current directory, the
output  being  reported to a new  \fI*cvs-update*\fR  window. Note that unlike
most cvs sub  commands  this  command  executes  over all files in the current
buffer's file directory.
.SS SETUP
.B cvs-setup
provides a dialog  interface  to  configure  the \*(mS CVS  interface,  on the
dialog the following items are available:
.PP
\fBCVS Command Setup\fR
.RS
.IP "\fCCVSROOT\fR"
If set, overrides the CVS \fB$CVSROOT\fR environment variable.
.IP "\fCCVS_RSH\fR"
If set, overrides the CVS \fB$CVS_RSH\fR environment variable.
rsh.
.IP "\fCCVS Command\fR"
Defines the
.Hr cvs 1 
system command. The default when not defined is \fBcvs\fR.
.IP "\fCCompression\fR"
Sets the compression level to use with all CVS commands.
.IP "\fCQuieter CVS output\fR"
When enabled the \fC-q\fR CVS command-line  option is used to suppress some of
the more verbose print-out. 
.RE
.PP
\fBCVS File Browser\fR
.RS
.IP "\fCQuick browser mode\fR"
When  enabled the CVS file  browser does not launch a cvs command to determine
the current state of all files in the  directory,  instead it extracts as much
information  as it can from the local file system,  inserting  '\fCQ\fR's  for
information  it cannot  determine.  This is useful when the  connection to the
server is slow. The full CVS  information  can be  obtained by  executing  the
command \fBcvs-full-reread\fR, typically bound to \fCC-f5\fR.
.RE
.IP "\fBTool Defaults\fR"
The  following  define the default  settings  for options  used in various CVS
commands:   
.IP
\fCRecurse into sub-directories\fR
.IP
\fCCheck-out missing directories\fR
.IP
\fCPrune empty directories\fR
.SH NOTES
\fBcvs\fR and sub-commands are macros defined in file \fCcvs.emf\fR.
.PP
When  filtering  is  enabled in the file  browser  the filter  used by the CVS
interface  depends on the file browser  mode, if \fBQuick  browser  mode\fR is
enabled the same filter is used, but when disabled all files ignored by
.Hr cvs 1
are also removed by the filter. Use
.Ht buffer-setup 3
in the buffer to enable/disable the filter.
.SH "SEE ALSO"
.na
.Ht file-browser 3 .
.ad
.FH
