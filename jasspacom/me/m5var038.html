<HTML>
<HEAD><TITLE>$mouse-pos(5)</TITLE></HEAD>
<!-- nr2html - Version 1.0.1i - [Nroff Parser : 1.3.4a (SunOS)] - Jan  6 2004 - Jon Green (1995-97) -->
<BODY>
<H1><A HREF="../me.html"><IMG SRC="../me/logo/logo.png" BORDER=0 ALIGN=BOTTOM ALT="[me]"></A>
$mouse-pos(5)</H1>
<FONT SIZE=2>
<A HREF="../me.html">[Home]</A>
<A HREF="amicr031.html">[Commands]</A>
<A HREF="amicr033.html">[Variables]</A>
<A HREF="amicr034.html">[Macro-Dev]</A>
<A HREF="amicr035.html">[Glossary]</A>
</FONT>
<HR>
<H2><B>NAME </B></H2>
<UL><P>$mouse-pos - Mouse position information </UL>
<H2><B>SYNOPSIS </B></H2>
<UL><P><B>$mouse-pos</B> <I>integer</I> </UL>
<H2><B>DESCRIPTION </B></H2>
<UL><P><B>$mouse-pos</B> is generated by invocation of the command 
<A HREF="m2cmd119.html">set-cursor-to-mouse(2)</A>. The variable is set to a value that indicates the position of the mouse within a window. The values to the mouse intersection are interpreted as follows:- 
<P><B>0 - Text area</B> 
<BR><UL>Intersection with the window text area. </UL>
<P><B>1 - Message Line</B> 
<BR><UL>Intersection with the message line. </UL>
<P><B>2 - Mode Line</B> 
<BR><UL>Intersection with the mode line. </UL>
<P><B>3 - Horizontal Separator</B> 
<BR><UL>Intersection with the horizontal window separator. This value is only set if a scroll bar is not present. </UL>
<P><B>4 - Up Arrow</B> 
<BR><UL>Intersection with the scroll bar up-arrow character. </UL>
<P><B>5 - Upper Shaft</B> 
<BR><UL>Intersection with the scroll bar upper shaft (above the scroll box). </UL>
<P><B>6 - Scroll Box</B> 
<BR><UL>Intersection with the scroll bar scroll box. </UL>
<P><B>7 - Lower Shaft</B> 
<BR><UL>Intersection with the scroll bar lower shaft (below the scroll box). </UL>
<P><B>8 - Down Arrow</B> 
<BR><UL>Intersection with the scroll bar down-arrow character. </UL>
<P><B>9 - Corner</B> 
<BR><UL>Intersection with the window corner, that is the character at the intersection of the scroll bar (or separator) and the mode line. </UL>
<P><B>10 - Menu Line</B> 
<BR><UL>Intersection with the menu line. </UL>
<P><B>255 - Error</B> 
<BR><UL>The position of the mouse could not be determined. This value should not arise, if it does then it is an indication that the window structure is probably corrupted. A 
<A HREF="m2cmd036.html">delete-other-windows(2)</A> is suggested or rapid exit from the editor after a 
<A HREF="m2cmd150.html">save-some-buffers(2)</A> command to save any edits (latter option is preferred). </UL>
<P><B>Bit 4 - 2nd Column</B> 
<BR><UL>Bit 4 (16) is set if 2 character column scroll bar or vertical window separator is in effect and the cursor exists in the second column This value is bitwise OR'ed with the aforementioned intersection values. </UL></UL>
<H2><B>EXAMPLE </B></H2>
<UL><P>The following macro can be used to print out the current position of the mouse, try binding the macro to the &quot;<TT>mouse-move</TT>&quot; key: <UL>
<PRE>define-macro&nbsp;print-mouse-position 
&nbsp;&nbsp;&nbsp;&nbsp;!force&nbsp;set-cursor-to-mouse 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;#l0&nbsp;&amp;band&nbsp;$mouse-pos&nbsp;15 
&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;&amp;equ&nbsp;#l0&nbsp;0 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml-write&nbsp;&quot;Mouse&nbsp;in&nbsp;text&nbsp;window&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;!elif&nbsp;&amp;equ&nbsp;#l0&nbsp;1 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml-write&nbsp;&quot;Mouse&nbsp;on&nbsp;message&nbsp;line&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;!elif&nbsp;&amp;equ&nbsp;#l0&nbsp;2 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml-write&nbsp;&quot;Mouse&nbsp;on&nbsp;Mode&nbsp;line&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;!elif&nbsp;&amp;and&nbsp;&amp;gre&nbsp;#l0&nbsp;2&nbsp;&amp;les&nbsp;#l0&nbsp;10 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml-write&nbsp;&quot;Mouse&nbsp;on&nbsp;scroll&nbsp;bar&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;!elif&nbsp;&amp;equ&nbsp;#l0&nbsp;10 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml-write&nbsp;&quot;Mouse&nbsp;on&nbsp;corner&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;!elif&nbsp;&amp;equ&nbsp;#l0&nbsp;11 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml-write&nbsp;&quot;Mouse&nbsp;on&nbsp;menu&nbsp;line&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;!endif 
!emacro 

global-bind-key&nbsp;print-mouse-position&nbsp;mouse-move 
</PRE></UL>
<P><B>$mouse-pos</B> is utilized by the mouse picking code, found in macro file <TT>mouse.emf</TT>. </UL>
<H2><B>SEE ALSO </B></H2>
<UL><P>
<A HREF="m5var033.html">$mouse-x(5)</A>, 
<A HREF="m5var033.html">$mouse-y(5)</A>, 
<A HREF="m2cmd119.html">set-cursor-to-mouse(2)</A>, 
<A HREF="m2cmd021.html">set-scroll-with-mouse(2)</A>. </UL>
<HR>
<P><I>(c) Copyright JASSPA 2004</I>
<BR><I>Last Modified: 2002/01/11</I>
<BR><I>Generated On: 2004/01/11</I>
</BODY></HMTL>
