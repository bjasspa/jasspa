<HTML>
<HEAD><TITLE>User Profiles(2)</TITLE></HEAD>
<!-- nr2html - Version 1.0.1k - [Nroff Parser : 1.3.4a (SunOS)] - Mar 27 2004 - Jon Green (1995-2004) -->
<BODY>
<H1><A HREF="../me.html"><IMG SRC="../me/logo/logo.png" BORDER=0 ALIGN=BOTTOM ALT="[me]"></A>
User Profiles(2)</H1>
<FONT SIZE=2>
<A HREF="../me.html">[Home]</A>
<A HREF="amicr031.html">[Commands]</A>
<A HREF="amicr033.html">[Variables]</A>
<A HREF="amicr034.html">[Macro-Dev]</A>
<A HREF="amicr035.html">[Glossary]</A>
</FONT>
<HR>
<H2><B>USER PROFILES </B></H2>
<UL><P>This section describes how a user profile should be incorporated into MicroEmacs '05. A user profile defines a set of extensions to MicroEmacs which encapsulates settings which are used by an individual user. 
<P>The user profile allows:- <UL><P>
<LI>Saving of the last session (history), allowing the next invocation of MicroEmacs '05 to restore your previous session. The <B>-c</B> option to 
<A HREF="m1cmd000.html">me(1)</A> restores a previous sessions buffers to the same state prior to exiting the editor. 
<LI>Personalized spelling dictionaries. 
<LI>Redefinition of MicroEmacs '05 operation, allowing the editor to be tailored to an individual's requirements. Including the re-binding of keys, modification of the screen colors. Definition of personal macros etc. </UL></UL>
<H2>Identification </H2>
<UL><P>In order to identify a user MicroEmacs '05 uses information in the system to determine the name of the user, and in turn the configuration to use. On all systems the value of the environment variable 
<A HREF="m5var076.html">$MENAME(5)</A> takes priority over any other means of user identification. If this variable is not defined then the host system typically provides a mechanism to determine the current user. MS-DOS and Microsoft Windows systems present problems where a login prompt is not used. 
<P>Each of the supported platforms are now described. 
<P><B>UNIX </B>
<BR><UL>The login name is determined from the <TT>/etc/passwd</TT> file and defines 
<A HREF="m5var088.html">$user-name(5)</A>. The environment variable 
<A HREF="m5var076.html">$MENAME(5)</A> may be defined alter the default user configuration file name. </UL>
<P><B>DOS </B>
<BR><UL>MS-DOS typically has no concept of the user name. The user name may be defined in the <TT>autoexec.bat</TT> file, choose a name of 8 characters or less, i.e. to fix the user name to <TT>fred</TT> then add the following line:- <UL>
<PRE>SET&nbsp;MENAME=fred 
</PRE></UL>
<P>Remember to re-boot the system before the new command takes effect. (see the next step, there is another change to <TT>autoexec.bat</TT>). </UL>
<P><B>Microsoft Windows </B>
<BR><UL>Microsoft windows environments may, or may not, have login enabled. If login is enabled then 
<A HREF="m5var088.html">$user-name(5)</A> is set to the login user name. The login name may be overridden by setting the environment variable 
<A HREF="m5var076.html">$MENAME(5)</A> this may be performed in the environment or through the 
<A HREF="m8fil006.html">me32.ini(8)</A> file. </UL></UL>
<H2>Shared Platforms </H2>
<UL><P>Platforms may share the same set of configuration files. Consider a system which may boot under MS-DOS, Windows '98, NT and Linux. Provided that the macro files are located on a file system that may be mounted by all of the other operating systems and the 
<A HREF="m5var090.html">$MEUSERPATH(5)</A> and 
<A HREF="m5var090.html">$MEPATH(5)</A> are set appropriately to point to the users private MicroEmacs and system directories, then a single set of macro files may be shared across all platforms. </UL>
<H2>Personal MicroEmacs Directory </H2>
<UL><P>The private user profile is stored in a separate directory. The directory that MicroEmacs uses is typically automatically created at start up, but may be created manually by the user. If the directory is to be placed in a special location then the 
<A HREF="m5var090.html">$MEUSERPATH(5)</A> environment variable should be defined and set to point at this directory location. 
<P><B>UNIX </B>
<BR><UL>In the UNIX environment then the local directory is typically created in the users home directory obtained from the <TT>/etc/passwd</TT> file and is called <TT>~/.jasspa</TT>. MicroEmacs will automatically look for this directory and set the 
<A HREF="m5var089.html">$user-path(5)</A> variable to this value. The location may be overridden by setting the environment variable 
<A HREF="m5var090.html">$MEUSERPATH(5)</A> to reference a different directory location. </UL>
<P><B>DOS </B>
<BR><UL>For MS-DOS environments, there is typically no user directory, it is suggested that the user directory is created in the MicroEmacs directory, use the <TT>$MENAME</TT> defined in the previous step i.e. <UL>
<PRE>mkdir&nbsp;c:\jasspa\fred 
</PRE></UL>
<P>Change or add the environment variable 
<A HREF="m5var090.html">$MEUSERPATH(5)</A> in the <B>autoexec.bat</B> to include the new directory i.e. <UL>
<PRE>SET&nbsp;MEUSERPATH=c:\jasspa\fred 
</PRE></UL>
</UL><P><B>Windows </B>
<BR><UL>In Microsoft Windows environment using Explorer 4.0 or later then a user application data directory exists (<TT>$APPDATA</TT>) and MicroEmacs will create a directory <TT>jasspa</TT> in this directory location to hold private data. If there is no such data area then all user configuration is stored in the executable directory location (or a sub-directory called 
<A HREF="m5var088.html">$user-name(5)</A>). </UL>
<UL><P>The user data area 
<A HREF="m5var089.html">$user-path(5)</A> may be modified by creating a new directory and setting the environment variable 
<A HREF="m5var090.html">$MEUSERPATH(5)</A> to point to this new directory location. The location be specified by a <B>meuserpath</B> entry in the 
<A HREF="m8fil006.html">me32.ini(8)</A> file rather than setting the environment variable 
<A HREF="m5var090.html">$MEUSERPATH(5)</A>. </UL></UL>
<H2>Creating Your Profile </H2>
<UL><P>On starting MicroEmacs for the first time then the user is guided through the configuration file setup to create any local configuration files. Once set up then MicroEmacs may be configured using the 
<A HREF="m3osd000.html">user-setup(3)</A> dialog:- <UL>
<PRE>Help&nbsp;=&gt;&nbsp;User&nbsp;Setup 
</PRE></UL>
</UL><H2>The User Profile </H2>
<UL><P>Files created in the user directory include:- <UL><P>
<LI>Setup registry and previous session history 
<A HREF="m5var088.html">$user-name</A>.erf (see 
<A HREF="m8fil004.html">erf(8)</A>). This stores the <B>user-setup</B> settings and the context from previous edit sessions. 
<LI>Users start-up file 
<A HREF="m5var088.html">$user-name</A>.emf (see 
<A HREF="m8fil003.html">emf(8)</A>). This is typically referred to as &quot;<I>user.emf</I>&quot; in the documentation and means the users private MicroEmacs macro file. The user may make local changes to MicroEmacs in this file, this may include definition of new key bindings, defining new hook functions etc. You should override the standard MicroEmacs settings from your start-up file rather than modifying the standard MicroEmacs files. 
<LI>Personal spelling dictionary <B>lsdp</B><I>lang</I>.edf (see 
<A HREF="m8fil002.html">edf(8)</A>). Multiple spelling dictionaries may be created, one for each language. Any words that are added to the spelling dictionary are stored in these files. </UL><P>In addition to the above, if new private macro files are constructed then they should be added to this directory (if they are not global to the company). </UL>
<H2><B>EXAMPLE </B></H2>
<UL><P>The following are examples of some individuals start-up files:- <UL>
<PRE>;&nbsp;Jon's&nbsp;special&nbsp;settings 
; 
;&nbsp;Last&nbsp;Modified&nbsp;&lt;190698.2226&gt; 
; 
;&nbsp;Macro&nbsp;to&nbsp;delete&nbsp;the&nbsp;whitespace,&nbsp;or&nbsp;if&nbsp;an&nbsp;a&nbsp;word&nbsp;all&nbsp;of&nbsp;the 
;&nbsp;word&nbsp;until&nbsp;the&nbsp;next&nbsp;word&nbsp;is&nbsp;reached. 
define-macro&nbsp;super-delete 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;#l0&nbsp;0 
&nbsp;&nbsp;&nbsp;&nbsp;!while&nbsp;&amp;not&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t\n&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;#l0&nbsp;&amp;add&nbsp;#l0&nbsp;1 
&nbsp;&nbsp;&nbsp;&nbsp;!done 
&nbsp;&nbsp;&nbsp;&nbsp;!repeat 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!force&nbsp;forward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;$status 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;#l0&nbsp;&amp;add&nbsp;#l0&nbsp;1 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!endif 
&nbsp;&nbsp;&nbsp;&nbsp;!until&nbsp;&amp;or&nbsp;&amp;seq&nbsp;@wc&nbsp;&quot;&quot;&nbsp;&amp;not&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t\n&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;#l0&nbsp;backward-delete-char 
&nbsp;&nbsp;&nbsp;&nbsp;!return 
!emacro 
;&nbsp;Make&nbsp;a&nbsp;previous-buffer&nbsp;command. 
define-macro&nbsp;previous-buffer 
&nbsp;&nbsp;&nbsp;&nbsp;&amp;neg&nbsp;@#&nbsp;next-buffer 
!emacro 
;&nbsp;spotless;&nbsp;Perform&nbsp;a&nbsp;clean&nbsp;and&nbsp;remove&nbsp;any&nbsp;multi-blank&nbsp;lines. 
define-macro&nbsp;spotless 
&nbsp;&nbsp;&nbsp;&nbsp;-1&nbsp;clean 
!emacro 
;&nbsp;comment-adjust;&nbsp;Used&nbsp;for&nbsp;comments&nbsp;in&nbsp;electric-c&nbsp;mode&nbsp;(and&nbsp;the&nbsp;other 
;&nbsp;electic&nbsp;modes.&nbsp;Moves&nbsp;to&nbsp;the&nbsp;comment&nbsp;fill&nbsp;position,&nbsp;saves&nbsp;having&nbsp;to&nbsp;mess 
;&nbsp;around&nbsp;with&nbsp;comments&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line. 
0&nbsp;define-macro&nbsp;comment-adjust 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;delete&nbsp;all&nbsp;spaces&nbsp;up&nbsp;until&nbsp;the&nbsp;next&nbsp;character 
&nbsp;&nbsp;&nbsp;&nbsp;!while&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forward-delete-char 
&nbsp;&nbsp;&nbsp;&nbsp;!done 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Fill&nbsp;the&nbsp;line&nbsp;to&nbsp;the&nbsp;current&nbsp;$c-margin.&nbsp;We&nbsp;use&nbsp;this&nbsp;as 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;this&nbsp;is&nbsp;the&nbsp;only&nbsp;variable&nbsp;that&nbsp;tells&nbsp;us&nbsp;where&nbsp;the&nbsp;margin 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;should&nbsp;be. 
&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;&amp;gre&nbsp;$window-acol&nbsp;0 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t&quot; 
	&nbsp;&nbsp;&nbsp;&nbsp;forward-delete-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!jump&nbsp;-4 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!else 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!endif 
&nbsp;&nbsp;&nbsp;&nbsp;!endif 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Now&nbsp;fill&nbsp;to&nbsp;the&nbsp;$c-margin 
&nbsp;&nbsp;&nbsp;&nbsp;&amp;sub&nbsp;$c-margin&nbsp;$window-acol&nbsp;insert-string&nbsp;&quot;&nbsp;&quot; 
!emacro 
;&nbsp;Macro&nbsp;to&nbsp;force&nbsp;buffer&nbsp;to&nbsp;compile&nbsp;buffer&nbsp;for&nbsp;C-x&nbsp;' 
define-macro&nbsp;compile-error-buffer 
&nbsp;&nbsp;&nbsp;&nbsp;!force&nbsp;delete-buffer&nbsp;*compile* 
&nbsp;&nbsp;&nbsp;&nbsp;change-buffer-name&nbsp;&quot;*compile*&quot; 
!emacro 
; 
;&nbsp;Set&nbsp;up&nbsp;the&nbsp;bindings. 
; 
global-bind-key&nbsp;super-delete&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;C-delete&quot; 
global-bind-key&nbsp;beginning-of-line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;home&quot; 
global-bind-key&nbsp;end-of-line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;end&quot; 
global-bind-key&nbsp;undo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;f4&quot; 
!if&nbsp;&amp;seq&nbsp;%emulate&nbsp;&quot;ERROR&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;global-bind-key&nbsp;comment-adjust&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;esc&nbsp;tab&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;global-bind-key&nbsp;comment-adjust&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;C-insert&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Like&nbsp;a&nbsp;korn&nbsp;shell&nbsp;please. 
&nbsp;&nbsp;&nbsp;&nbsp;ml-bind-key&nbsp;tab&nbsp;&quot;esc&nbsp;esc&quot; 
!endif 
; 
;&nbsp;Setup&nbsp;for&nbsp;windows&nbsp;and&nbsp;UNIX. 
; 
;&nbsp;Define&nbsp;my&nbsp;hilighting&nbsp;colour&nbsp;for&nbsp;Windows&nbsp;and&nbsp;UNIX. 
!if&nbsp;&amp;equ&nbsp;&amp;band&nbsp;$system&nbsp;0x001&nbsp;0 
&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;&amp;not&nbsp;&amp;seq&nbsp;$platform&nbsp;&quot;win32&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Small&nbsp;bold&nbsp;font&nbsp;is&nbsp;better&nbsp;for&nbsp;me. 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change-font&nbsp;&quot;-*-clean-medium-r-*-*-*-130-*-*-*-*-*-*&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;!endif 
!endif 
;&nbsp;Change&nbsp;the&nbsp;default&nbsp;diff&nbsp;command-line&nbsp;for&nbsp;GNU&nbsp;diff&nbsp;utility&nbsp;all&nbsp;platforms 
set-variable&nbsp;%diff-com&nbsp;&quot;diff&nbsp;--context&nbsp;--minimal&nbsp;--ignore-space-change&nbsp;--report-identical-files&nbsp;--recursive&quot; 
set-variable&nbsp;%gdiff-com&nbsp;&quot;diff&nbsp;--context&nbsp;--ignore-space-change&nbsp;-w&quot; 
;&nbsp;Setup&nbsp;for&nbsp;cygwin 
!if&nbsp;&amp;seq&nbsp;$platform&nbsp;&quot;win32&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;%cygwin-path&nbsp;&quot;c:/cygwin&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;%cygwin-hilight&nbsp;1 
!endif 
;&nbsp;Set&nbsp;up&nbsp;the&nbsp;ftp&nbsp;flags.&nbsp;The&nbsp;letters&nbsp;have&nbsp;the&nbsp;following&nbsp;meaning: 
;&nbsp;c&nbsp;&nbsp;&nbsp;-&nbsp;Create&nbsp;a&nbsp;console&nbsp;(*ftp-console*&nbsp;for&nbsp;ftp,&nbsp;*http-console*&nbsp;for&nbsp;http) 
;&nbsp;s&nbsp;&nbsp;&nbsp;-&nbsp;Show&nbsp;the&nbsp;console 
;&nbsp;p&nbsp;&nbsp;&nbsp;-&nbsp;Show&nbsp;download&nbsp;progress&nbsp;('#'&nbsp;every&nbsp;2Kb&nbsp;downloaded) 
set-variable&nbsp;%ftp-flags&nbsp;&quot;csp&quot; 
;&nbsp;Info&nbsp;files 
;To&nbsp;hilight&nbsp;the&nbsp;.info&nbsp;and&nbsp;also&nbsp;the&nbsp;dir&nbsp;file 
add-file-hook&nbsp;&quot;.info&nbsp;dir&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fhook-info&nbsp;&nbsp;&nbsp;;&nbsp;Info-files 
;To&nbsp;hilight&nbsp;all&nbsp;info&nbsp;files&nbsp;without&nbsp;the&nbsp;extension&nbsp;.info 
;but&nbsp;starting&nbsp;with&nbsp;the&nbsp;text&nbsp;&quot;This&nbsp;is&nbsp;info&nbsp;file.. 
-2&nbsp;add-file-hook&nbsp;&quot;This&nbsp;is&nbsp;Info&nbsp;file&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fhook-info 

;&nbsp;Finished 
ml-write&nbsp;&quot;Configured&nbsp;to&nbsp;Jon's&nbsp;requirements&quot; 
</PRE></UL>
</UL><H2><B>SEE ALSO </B></H2>
<UL><P>
<A HREF="m3osd000.html">user-setup(3)</A>, 
<A HREF="m5var057.html">$search-path(5)</A>, 
<A HREF="m5var088.html">$user-name(5)</A>, 
<A HREF="m5var089.html">$user-path(5)</A>, 
<A HREF="m5var090.html">$MEINSTALLPATH(5)</A>, 
<A HREF="m5var076.html">$MENAME(5)</A>, 
<A HREF="m5var090.html">$MEPATH(5)</A>, 
<A HREF="m5var090.html">$MEUSERPATH(5)</A>, 
<A HREF="m8fil006.html">me32.ini(8)</A>, 
<A HREF="m2nar002.html">Company Profiles</A>, 
<A HREF="m2cmd202.html">File Hooks</A>, 
<A HREF="m2nar000.html">File Language Templates</A>, 
<A HREF="m2nar001.html">Installation</A>. </UL>
<HR>
<P><I>(c) Copyright JASSPA 2005</I>
<BR><I>Last Modified: 2004/02/22</I>
<BR><I>Generated On: 2005/05/14</I>
</BODY></HMTL>
