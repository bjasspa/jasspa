<HTML>
<HEAD><TITLE>User Profiles(2)</TITLE></HEAD>
<!-- nr2html - Version 1.0.1f - [Nroff Parser : 1.3.4 (Win32)] - Jan 25 2000 - Jon Green (1995-97) -->
<BODY>
<H1><A HREF="../me.html"><IMG SRC="../me/logo.gif" ALIGN=BOTTOM ALT="[me]"></A>
User Profiles(2)</H1>
<FONT SIZE=2>
<A HREF="../me.html">[Home]</A>
<A HREF="amicr031.html">[Commands]</A>
<A HREF="amicr033.html">[Variables]</A>
<A HREF="amicr034.html">[Macro-Dev]</A>
<A HREF="amicr035.html">[Glossary]</A>
</FONT>
<HR>
<H2><B>USER PROFILES </B></H2>
<UL><P>This section describes how a user profile should be incorporated into MicroEmacs '02. A user profile defines a set of extensions to MicroEmacs which encapsulates settings which are used by an individual user. 
<P>The user profile allows:- <UL><P>
<LI>Saving of the last session (history), allowing the next invocation of MicroEmacs '02 to restore your previous session. 
<LI>Personalized spelling dictionaries. 
<LI>Redefinition of MicroEmacs '02, allowing the editor to be tailored to an individual's requirements. Including the re-binding of keys, modification of the screen colors. Definition of personal macros etc. </UL></UL>
<H2>Identification </H2>
<UL><P>In order to identify a user MicroEmacs '02 uses information in the system to determine the name of the user, and in turn the configuration to use. On all systems the value of the environment variable 
<A HREF="m5var076.html">$MENAME(5)</A> takes priority over any other means of user identification. If this variable is not defined then the host system typically provides a mechanism to determine the current user. DOS and <I>Windows</I> systems present problems where a login prompt is not supplied. 
<P>Each of the supported platforms are now described. 
<P><B>UNIX </B>
<BR><UL>The environment variable <TT>$LOGNAME</TT> is defined. This is the user name used by the system. </UL>
<P><B>DOS </B>
<BR><UL>MS-DOS typically has no concept of the user name. The user name should be defined in the <TT>autoexec.bat</TT> file, choose a name of 8 characters or less, i.e. to fix the user name to <TT>fred</TT> then add the following line:- <UL>
<PRE>SET&nbsp;MENAME=fred 
</PRE></UL>
<P>Remember to re-boot the system before the new command takes effect. (see the next step, there is another change to <TT>autoexec.bat</TT>). </UL>
<P><B>Microsoft Windows </B>
<BR><UL>Microsoft windows environments may, or may not, have logging enabled. If you have to log into your system then a login identification has been supplied and will be recognized by MicroEmacs, setting the environment variable 
<A HREF="m5var076.html">$MENAME(5)</A> to this value. </UL>
<UL><P>If login is not enabled then the 
<A HREF="m8fil006.html">me32.ini(8)</A> file may be modified to provide a default login name. To add the user <B>fred</B> then add the following lines to the <I>ini</I> file:- <UL>
<PRE>[guest] 
MENAME=fred 
</PRE></UL>
<P>If login is subsequently enabled on the system then these lines should be removed. These lines force the user identification to be <B>fred</B>. 
<P>The above technique may be used within the windows environment to modify your login name. Assuming that the system administrator has assigned <B>fred</B> a user login name of <B>fwhite</B>, and <I>fred</I> requires all of his configuration files to be the same name as his UNIX login which is <B>fred</B>. Then <I>fred</I> may force his user name to <I>fred</I> from the <TT>me32.ini</TT> file as follows:- <UL>
<PRE>[fwhite] 
MENAME=fred 
</PRE></UL>
<P>Once <I>fred</I> has entered MicroEmacs he will adopt his new login name which will be used to identify his own files etc. The action of this statement is to force the environment variable <TT>$MENAME</TT> to a new value. Any other environment variables may be forced in this way i.e. <TT>$HOSTNAME</TT> is a good candidate here as the <TT>me32.ini</TT> is local to the machine. </UL>
<P><B>Shared Platforms </B>
<BR><UL>Platforms may share the same set of configuration files. Consider a system which may boot under MS-DOS, Windows '98, NT and Linux. Provided that the macro files are located on a file system that may be mounted by all of the other operating systems and the $MEPATH is set appropriately, then a single set of MicroEmacs macro files may be shared across all platforms. </UL></UL>
<H2>Personal MicroEmacs Directory </H2>
<UL><P>The private user profile is stored in a separate directory. The directory that MicroEmacs uses must be created by the user, create the directory in your local file system. In addition, the MicroEmacs search path 
<A HREF="m5var057.html">$MEPATH(5)</A> should be modified to include your new MicroEmacs personal directory. 
<P><B>UNIX </B>
<BR><UL>Create in your local directory, typically called <TT>microemacs</TT> or <TT>.microemacs</TT> (if it is to be hidden). </UL>
<UL><P>Add/modify the 
<A HREF="m5var057.html">$MEPATH(5)</A> environment variable to include your personal directory in your <TT>.login</TT>, <TT>.chsrc</TT> or <TT>.profile</TT> file, the file and exact syntax will depend upon your shell. For a Korn shell the following line would be added to the <TT>.profile</TT> file:- <UL>
<PRE>export&nbsp;MEPATH=$HOME/.microemacs:/usr/local/microemacs 
</PRE></UL>
<P>Where <TT>$HOME</TT> is assumed to be the users login home directory, or use the directory location of your new directory. </UL>
<P><B>DOS </B>
<BR><UL>For MS-DOS environments, there is typically no user directory, it is suggested that the user directory is created in the MicroEmacs directory, use the <TT>$MENAME</TT> defined in the previous step i.e. <UL>
<PRE>mkdir&nbsp;c:\me\fred 
</PRE></UL>
<P>Change the 
<A HREF="m5var057.html">$MEPATH(5)</A> in the <B>autoexec.bat</B> to include the new directory i.e. <UL>
<PRE>SET&nbsp;MEPATH=c:\me\fred;c:\me 
</PRE></UL>
</UL><P><B>Windows </B>
<BR><UL>Windows environments, the 
<A HREF="m8fil006.html">me32.ini(8)</A> <B>userPath</B> entry defines the location of the user profile directories, within the <B>Install</B> <B>Shield</B> installation, the <TT>me32.ini</TT> is typically defined as:- <UL>
<PRE>userPath=C:\Program&nbsp;Files\JASSPA\MicroEmacs 
</PRE></UL>
<P>Create your MicroEmacs personal directory in this folder, the name of the folder should be your login name or <TT>$MENAME</TT>, depending upon how your name is identified. </UL></UL>
<H2>Creating Your Profile </H2>
<UL><P>Once you have created a new directory to store your user profile, create a default profile for yourself from MicroEmacs using the 
<A HREF="m3osd000.html">user-setup(3)</A> dialog:- <UL>
<PRE>Help&nbsp;=&gt;&nbsp;User&nbsp;Setup 
</PRE></UL>
<P>Fill in the entries in the dialog, and ensure that <B>Save</B> is depressed on exit to write the files. 
<P>The dictionaries often present difficulties the first time, a prompt to save the dictionary requires the full pathname and the name of the file, the pathname is the path to your personal folder, the filename is typically your <I>username</I>.edf. Once the file is created you will not have a problem in the future. </UL>
<H2>The User Profile </H2>
<UL><P>Files created in the user directory include:- <UL><P>
<LI>Setup registry and previous session history <I>username</I>.erf, see 
<A HREF="m8fil004.html">erf(8)</A>). This stores the <B>user-setup</B> settings and also the context from your previous edit session. 
<LI>Users start-up file <I>username</I>.emf, see 
<A HREF="m8fil003.html">emf(8)</A> the user may make local changes to MicroEmacs in this file, this may include changing key bindings, defining new hook functions etc. You should over-ride the standard MicroEmacs settings from your start-up file rather than modifying the standard MicroEmacs files. 
<LI>Personal spelling dictionary <I>username.edf</I>, see 
<A HREF="m8fil002.html">edf(8)</A>. This file contains your personal spelling modifications, any words that are added to the spelling dictionary are added to this file. </UL><P>In addition to the above, if new file hooks are defined then they should be added to this directory (if they are not global to the company). </UL>
<H2><B>EXAMPLE </B></H2>
<UL><P>The following are examples of some individuals start-up files:- <UL>
<PRE>;&nbsp;Jon's&nbsp;special&nbsp;settings 
; 
;&nbsp;Last&nbsp;Modified&nbsp;&lt;190698.2226&gt; 
; 
;&nbsp;Macro&nbsp;to&nbsp;delete&nbsp;the&nbsp;whitespace,&nbsp;or&nbsp;if&nbsp;an&nbsp;a&nbsp;word&nbsp;all&nbsp;of&nbsp;the 
;&nbsp;word&nbsp;until&nbsp;the&nbsp;next&nbsp;word&nbsp;is&nbsp;reached. 
define-macro&nbsp;super-delete 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;#l0&nbsp;0 
&nbsp;&nbsp;&nbsp;&nbsp;!while&nbsp;&amp;not&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t\n&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;#l0&nbsp;&amp;add&nbsp;#l0&nbsp;1 
&nbsp;&nbsp;&nbsp;&nbsp;!done 
&nbsp;&nbsp;&nbsp;&nbsp;!repeat 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!force&nbsp;forward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;$status 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;#l0&nbsp;&amp;add&nbsp;#l0&nbsp;1 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!endif 
&nbsp;&nbsp;&nbsp;&nbsp;!until&nbsp;&amp;or&nbsp;&amp;seq&nbsp;@wc&nbsp;&quot;&quot;&nbsp;&amp;not&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t\n&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;#l0&nbsp;backward-delete-char 
&nbsp;&nbsp;&nbsp;&nbsp;!return 
!emacro 
;&nbsp;Make&nbsp;a&nbsp;previous-buffer&nbsp;command. 
define-macro&nbsp;previous-buffer 
&nbsp;&nbsp;&nbsp;&nbsp;&amp;neg&nbsp;@#&nbsp;next-buffer 
!emacro 
;&nbsp;spotless;&nbsp;Perform&nbsp;a&nbsp;clean&nbsp;and&nbsp;remove&nbsp;any&nbsp;multi-blank&nbsp;lines. 
define-macro&nbsp;spotless 
&nbsp;&nbsp;&nbsp;&nbsp;-1&nbsp;clean 
!emacro 
;&nbsp;comment-adjust;&nbsp;Used&nbsp;for&nbsp;comments&nbsp;in&nbsp;electric-c&nbsp;mode&nbsp;(and&nbsp;the&nbsp;other 
;&nbsp;electic&nbsp;modes.&nbsp;Moves&nbsp;to&nbsp;the&nbsp;comment&nbsp;fill&nbsp;position,&nbsp;saves&nbsp;having&nbsp;to&nbsp;mess 
;&nbsp;around&nbsp;with&nbsp;comments&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line. 
0&nbsp;define-macro&nbsp;comment-adjust 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;delete&nbsp;all&nbsp;spaces&nbsp;up&nbsp;until&nbsp;the&nbsp;next&nbsp;character 
&nbsp;&nbsp;&nbsp;&nbsp;!while&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forward-delete-char 
&nbsp;&nbsp;&nbsp;&nbsp;!done 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Fill&nbsp;the&nbsp;line&nbsp;to&nbsp;the&nbsp;current&nbsp;$c-margin.&nbsp;We&nbsp;use&nbsp;this&nbsp;as 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;this&nbsp;is&nbsp;the&nbsp;only&nbsp;variable&nbsp;that&nbsp;tells&nbsp;us&nbsp;where&nbsp;the&nbsp;margin 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;should&nbsp;be. 
&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;&amp;gre&nbsp;$window-acol&nbsp;0 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;&amp;sin&nbsp;@wc&nbsp;&quot;&nbsp;\t&quot; 
	&nbsp;&nbsp;&nbsp;&nbsp;forward-delete-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!jump&nbsp;-4 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!else 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forward-char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!endif 
&nbsp;&nbsp;&nbsp;&nbsp;!endif 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Now&nbsp;fill&nbsp;to&nbsp;the&nbsp;$c-margin 
&nbsp;&nbsp;&nbsp;&nbsp;&amp;sub&nbsp;$c-margin&nbsp;$window-acol&nbsp;insert-string&nbsp;&quot;&nbsp;&quot; 
!emacro 
;&nbsp;Macro&nbsp;to&nbsp;force&nbsp;buffer&nbsp;to&nbsp;compile&nbsp;buffer&nbsp;for&nbsp;C-x&nbsp;' 
define-macro&nbsp;compile-error-buffer 
&nbsp;&nbsp;&nbsp;&nbsp;!force&nbsp;delete-buffer&nbsp;*compile* 
&nbsp;&nbsp;&nbsp;&nbsp;change-buffer-name&nbsp;&quot;*compile*&quot; 
!emacro 
; 
;&nbsp;Set&nbsp;up&nbsp;the&nbsp;bindings. 
; 
global-bind-key&nbsp;super-delete&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;C-delete&quot; 
global-bind-key&nbsp;beginning-of-line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;home&quot; 
global-bind-key&nbsp;end-of-line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;end&quot; 
global-bind-key&nbsp;undo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;f4&quot; 
!if&nbsp;&amp;seq&nbsp;%emulate&nbsp;&quot;ERROR&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;global-bind-key&nbsp;comment-adjust&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;esc&nbsp;tab&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;global-bind-key&nbsp;comment-adjust&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;C-insert&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Like&nbsp;a&nbsp;korn&nbsp;shell&nbsp;please. 
&nbsp;&nbsp;&nbsp;&nbsp;ml-bind-key&nbsp;tab&nbsp;&quot;esc&nbsp;esc&quot; 
!endif 
; 
;&nbsp;Setup&nbsp;for&nbsp;windows&nbsp;and&nbsp;UNIX. 
; 
;&nbsp;Define&nbsp;my&nbsp;hilighting&nbsp;colour&nbsp;for&nbsp;Windows&nbsp;and&nbsp;UNIX. 
!if&nbsp;&amp;equ&nbsp;&amp;band&nbsp;$system&nbsp;0x001&nbsp;0 
&nbsp;&nbsp;&nbsp;&nbsp;!if&nbsp;&amp;not&nbsp;&amp;seq&nbsp;$platform&nbsp;&quot;win32&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Small&nbsp;bold&nbsp;font&nbsp;is&nbsp;better&nbsp;for&nbsp;me. 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change-font&nbsp;&quot;-*-clean-medium-r-*-*-*-130-*-*-*-*-*-*&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Small&nbsp;non-bold&nbsp;font. 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;change-font&nbsp;&quot;-misc-fixed-medium-r-normal--13-*-*-*-c-70-iso8859-1&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;Change&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;screen 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;82&nbsp;change-screen-width 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50&nbsp;change-screen-depth 
&nbsp;&nbsp;&nbsp;&nbsp;!endif 
!endif 
;&nbsp;Change&nbsp;the&nbsp;default&nbsp;diff&nbsp;command-line&nbsp;for&nbsp;GNU&nbsp;diff&nbsp;utility&nbsp;all&nbsp;platforms 
set-variable&nbsp;%diff-com&nbsp;&quot;diff&nbsp;--context&nbsp;--minimal&nbsp;--ignore-space-change&nbsp;--report-identical-files&nbsp;--recursive&quot; 
set-variable&nbsp;%gdiff-com&nbsp;&quot;diff&nbsp;--context&nbsp;--ignore-space-change&nbsp;-w&quot; 
;&nbsp;Setup&nbsp;for&nbsp;cygnus 
!if&nbsp;&amp;seq&nbsp;$platform&nbsp;&quot;win32&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;%cygnus-bin-path&nbsp;&quot;c:/cygwin/bin&quot; 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;%cygnus-hilight&nbsp;1 
&nbsp;&nbsp;&nbsp;&nbsp;set-variable&nbsp;%cygnus-prompt&nbsp;&quot;$&quot; 
!endif 
;&nbsp;Set&nbsp;up&nbsp;the&nbsp;ftp&nbsp;flags.&nbsp;The&nbsp;letters&nbsp;have&nbsp;the&nbsp;following&nbsp;meaning: 
;&nbsp;c&nbsp;&nbsp;&nbsp;-&nbsp;Create&nbsp;a&nbsp;console&nbsp;(*ftp-console*&nbsp;for&nbsp;ftp,&nbsp;*http-console*&nbsp;for&nbsp;http) 
;&nbsp;s&nbsp;&nbsp;&nbsp;-&nbsp;Show&nbsp;the&nbsp;console 
;&nbsp;p&nbsp;&nbsp;&nbsp;-&nbsp;Show&nbsp;download&nbsp;progress&nbsp;('#'&nbsp;every&nbsp;2Kb&nbsp;downloaded) 
set-variable&nbsp;%ftp-flags&nbsp;&quot;csp&quot; 
;&nbsp;Info&nbsp;files 
;To&nbsp;hilight&nbsp;the&nbsp;.info&nbsp;and&nbsp;also&nbsp;the&nbsp;dir&nbsp;file 
add-file-hook&nbsp;&quot;.info&nbsp;dir&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fhook-info&nbsp;&nbsp;&nbsp;;&nbsp;Info-files 
;To&nbsp;hilight&nbsp;all&nbsp;info&nbsp;files&nbsp;without&nbsp;the&nbsp;extension&nbsp;.info 
;but&nbsp;starting&nbsp;with&nbsp;the&nbsp;text&nbsp;&quot;This&nbsp;is&nbsp;info&nbsp;file.. 
-2&nbsp;add-file-hook&nbsp;&quot;This&nbsp;is&nbsp;Info&nbsp;file&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fhook-info 

;&nbsp;Finished 
ml-write&nbsp;&quot;Configured&nbsp;to&nbsp;Jon's&nbsp;requirements&quot; 
</PRE></UL>
</UL><H2><B>SEE ALSO </B></H2>
<UL><P>
<A HREF="m5var057.html">$MEPATH(5)</A>, 
<A HREF="m5var076.html">$MENAME(5)</A>, 
<A HREF="m3osd000.html">user-setup(3)</A>, 
<A HREF="m2nar002.html">Company Profiles</A>, 
<A HREF="m2cmd202.html">File Hooks</A>, 
<A HREF="m2nar000.html">File Language Templates</A>, 
<A HREF="m2nar001.html">Installation</A>. </UL>
<HR>
<P><I>(c) Copyright JASSPA 2002</I>
<BR><I>Last Modified: 2002/01/04</I>
<BR><I>Generated On: 2002/01/06</I>
</BODY></HMTL>
